{"ast":null,"code":"var _jsxFileName = \"/home/jce/Web Dev Space/Syncsequence/frontEnd/src/components/macrospage/macrospage.jsx\",\n    _s = $RefreshSig$();\n\n/* * * V I T A L S * * */\nimport * as React from 'react';\nimport { useParams, useLocation, useLoaderData } from 'react-router-dom';\nimport CalInfo from '../calInfo';\nimport APIaccess from '../../apiaccess';\nimport { useNavigate } from 'react-router-dom';\nimport './macros.css';\n/* * * C O M P O N E N T S * * */\n\nimport Header from '../../components/base/header';\nimport Instant from '../../components/notifs/instant';\nimport NotificationsList from '../../components/notifs/notifsList';\nimport Log from '../../components/blog/log';\nimport FullList from '../../components/base/fullList';\nimport DragSlider from '../../components/base/dragSlider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst accessAPI = APIaccess();\nexport default function Macrospage(_ref) {\n  _s();\n\n  let {\n    socketURL,\n    socketMessage,\n    setSocketMessage,\n    sendMessage,\n    isActive,\n    setActive,\n    accessID,\n    setAccessID,\n    unreadCount,\n    setUnreadCount,\n    getUnreadCount,\n    lastMessage,\n    selectedDate,\n    set_selectedDate,\n    current,\n    setCurrent,\n    tags,\n    setTags,\n    userTopics,\n    setUserTopics\n  } = _ref;\n  const userID = sessionStorage.getItem('userID');\n  let userSettings = sessionStorage.getItem('settings');\n  const data = useLoaderData();\n  const navigate = useNavigate();\n  const [postData, setPostData] = React.useState(data.macroPosts);\n  const [macroInfo, setMacroInfo] = React.useState(data.macroInfo);\n  const macroID = macroInfo._id;\n  const cal = CalInfo(); // console.log(macroInfo)\n  // console.log(postData)\n  // console.log(userTopics)\n\n  let goToProfile = async userID => {\n    let elCurrent = el.current;\n    elCurrent.classList.add('_enter');\n    let data = await accessAPI.getSingleUser(userID);\n    let delay = setTimeout(() => {\n      navigate(`/user/${data.user.userName}/${data.user._id}`, {\n        state: {\n          user: data.user,\n          pinnedPosts: data.pinnedPosts,\n          collections: data.collections\n        }\n      });\n    }, 150);\n  };\n\n  let updatePosts = async () => {\n    let posts = await accessAPI.groupPosts({\n      action: 'getPosts',\n      type: 'collection',\n      groupID: macroID\n    });\n\n    if (posts.length > 0) {\n      setPostData(posts);\n      setMacroInfo({ ...macroInfo,\n        postCount: posts.length\n      });\n    }\n  };\n  /* Element Related */\n\n\n  const [notifList, setNotifList] = React.useReducer(state => !state, false);\n  const [menu, toggleMenu] = React.useReducer(state => !state, false);\n  const [fullList, toggleFullList] = React.useReducer(state => !state, false);\n  const source = macroInfo.name == 'BOOKMARKS' ? `${macroInfo.ownerUsername}'s ${macroInfo.name}` : macroInfo.name;\n  let [ARRD, setARRD] = React.useState(); // let ARRD;\n\n  let addRemoveRequestDelete = async () => {\n    if (ARRD == 'delete') {\n      let request = await accessAPI.manageGroup('deleteGroup', {\n        type: 'tag',\n        groupID: macroInfo._id\n      });\n\n      if (request.confirmation) {\n        navigate(-1);\n        let delay = setTimeout(() => {\n          setSocketMessage({\n            type: 'simpleNotif',\n            message: `Deleted \"${macroInfo.name}\"`\n          });\n        }, 200);\n      }\n    } else if (ARRD == 'remove') {\n      if (macroInfo.type == 'topic') {\n        let request = await accessAPI.manageGroup('removeUser', {\n          topic: macroInfo.name\n        }).then(data => {\n          if (data.confirmation == true) {\n            setARRD('add');\n          }\n        });\n        setSocketMessage({\n          type: 'simpleNotif',\n          message: `Removed \"${macroInfo.name}\" from your topics`\n        });\n      } else {\n        let request = await accessAPI.manageGroup('removeUser', {\n          groupID: macroInfo._id\n        }).then(data => {\n          if (data.confirmation == true) {\n            if (macroInfo.isMacroPrivate) {\n              setARRD('request'); // ARRD = 'request'\n            } else {\n              setARRD('add'); // ARRD = 'add'\n            }\n          }\n        });\n        setSocketMessage({\n          type: 'simpleNotif',\n          message: `Removed \"${macroInfo.name}\" to your tags`\n        });\n      }\n    } else if (ARRD == 'request') {\n      let request = accessAPI.newInteraction({\n        type: 'request',\n        message: 'accessRequested',\n        senderID: userID,\n        recipients: [macroInfo.ownerID],\n        recipientUsernames: macroInfo.ownerUsername,\n        groupID: macroID,\n        groupName: macroInfo.name\n      }).then(data => {\n        if (data.confirmation == true) {\n          console.log('request sent');\n          setSocketMessage({\n            message: `Request for access sent to @${macroInfo.ownerUsername}`,\n            recipients: [macroInfo.ownerID],\n            action: 'updateNotifs'\n          });\n        } else {\n          setSocketMessage({\n            type: 'error',\n            message: data.message\n          });\n        }\n      });\n    } else if (ARRD == 'add') {\n      if (macroInfo.type == 'topic') {\n        let request = await accessAPI.manageGroup('addUser', {\n          topic: macroInfo.name\n        }).then(data => {\n          if (data.confirmation == true) {\n            setARRD('remove');\n          }\n        });\n        setSocketMessage({\n          type: 'simpleNotif',\n          message: `Added \"${macroInfo.name}\" to your topics`\n        });\n      } else {\n        let request = accessAPI.manageGroup('addUser', {\n          groupID: macroInfo._id\n        }).then(data => {\n          if (data.confirmation == true) {\n            setARRD('remove');\n          }\n        });\n        setSocketMessage({\n          type: 'simpleNotif',\n          message: `Added \"${macroInfo.name}\" to your tags`\n        });\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    document.title = 'Syncseq.xyz/macro';\n    console.log(macroInfo.name);\n    console.log(userTopics.includes(macroInfo.mame));\n\n    if (userTopics.includes(macroInfo.mame)) {\n      setMacroInfo({ ...macroInfo,\n        userHasAccess: true\n      });\n    }\n\n    console.log(macroInfo);\n  }, []);\n  let el = React.useRef();\n  React.useEffect(() => {\n    let elCurrent = el.current;\n    let delay = setTimeout(() => {\n      elCurrent.classList.remove('_enter');\n    }, 300);\n\n    if (macroInfo.ownerID == userID) {\n      setARRD('delete'); // ARRD = 'delete'\n    } // if hasAccess and not owner -> remove\n    else if (macroInfo.userHasAccess == true) {\n      setARRD('remove'); // ARRD = 'remove'\n    } // if noaccess and is not private -> add\n    else if (!macroInfo.userHasAccess && macroInfo.admins) {\n      setARRD('request'); // ARRD = 'request'\n    } // if no access and is private -> request\n    else if (!macroInfo.userHasAccess && !macroInfo.isMacroPrivate) {\n      setARRD('add'); // ARRD = 'add'\n    }\n  }, []); // Update posts when fullList is closed\n\n  React.useEffect(() => {\n    updatePosts();\n  }, [fullList]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"MACROS\",\n    ref: el,\n    className: `_enter`,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      cal: cal,\n      isReturnable: true,\n      setNotifList: setNotifList,\n      unreadCount: unreadCount,\n      siteLocation: 'MACROS'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mainWrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"pageHeader\",\n        children: [macroInfo.name != 'BOOKMARKS' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `buttonDefault`,\n          id: \"addRemoveRequest\",\n          onClick: () => {\n            addRemoveRequestDelete();\n          },\n          children: ARRD\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          id: \"subHeading\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${macroInfo.type != 'topic' ? \"toUserProfile\" : ''}`,\n            onClick: () => {\n              if (macroInfo.type != 'topic') {\n                goToProfile(macroInfo.ownerID);\n              } else return;\n            },\n            children: [macroInfo.type != 'topic' ? '@' : null, macroInfo.type != 'topic' ? macroInfo.ownerUsername : 'PUBLIC']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 7\n          }, this), \" / \", macroInfo.type, \" /\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"macroName\",\n          children: macroInfo.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"infoWrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            id: \"postCount\",\n            children: [macroInfo.postCount, /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Posts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 7\n          }, this), macroInfo.type != 'topic' && macroInfo.name != 'BOOKMARKS' && /*#__PURE__*/_jsxDEV(\"h4\", {\n            id: \"userCount\",\n            children: [macroInfo.userCount, /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Users Engaged\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 5\n      }, this), macroInfo.isMacroPrivate && !macroInfo.userHasAccess && /*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"noAccess\",\n        children: \"You Must Request Access from the User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 6\n      }, this), macroInfo.isMacroPrivate && macroInfo.userHasAccess && /*#__PURE__*/_jsxDEV(Log, {\n        data: postData,\n        userID: userID,\n        noHeading: true,\n        current: current,\n        setCurrent: setCurrent,\n        isUnified: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 6\n      }, this), !macroInfo.isMacroPrivate && /*#__PURE__*/_jsxDEV(Log, {\n        data: postData,\n        userID: userID,\n        noHeading: true,\n        current: current,\n        setCurrent: setCurrent,\n        isUnified: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"menuBar\",\n      children: [(macroInfo.type == 'tag' || macroInfo.type == 'topic') && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttonDefault\",\n        onClick: () => {\n          setTimeout(() => {\n            navigate(-1);\n          }, 300);\n        },\n        children: \"return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 6\n      }, this), macroInfo.type == 'collection' && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttonDefault\",\n        onClick: toggleMenu,\n        children: \"MENU\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 6\n      }, this), menu && /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"buttonDefault\",\n            onClick: () => {\n              toggleFullList();\n              let delay = setTimeout(() => {\n                toggleMenu();\n              }, 200);\n            },\n            children: \"REMOVE ITEMS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"buttonDefault\",\n            children: \"SHARE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"buttonDefault\",\n            onClick: e => {\n              e.preventDefault();\n              let menu = document.getElementById('menu');\n              menu.classList.add('leave');\n              let delay = setTimeout(() => {\n                toggleMenu();\n              }, 150);\n            },\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 4\n    }, this), current.gallery.length > 0 && /*#__PURE__*/_jsxDEV(DragSlider, {\n      current: current,\n      setCurrent: setCurrent,\n      siteLocation: 'home'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 12\n    }, this), fullList && /*#__PURE__*/_jsxDEV(FullList, {\n      mode: 'remove',\n      data: postData,\n      source: source,\n      setFullList: toggleFullList,\n      setSocketMessage: setSocketMessage,\n      socketMessage: socketMessage,\n      groupID: macroID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 5\n    }, this), notifList && /*#__PURE__*/_jsxDEV(NotificationsList, {\n      setNotifList: setNotifList,\n      unreadCount: unreadCount,\n      setUnreadCount: setUnreadCount,\n      setSocketMessage: setSocketMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(Instant, {\n      socketURL: socketURL,\n      socketMessage: socketMessage,\n      setSocketMessage: setSocketMessage,\n      sendMessage: sendMessage,\n      isActive: isActive,\n      setActive: setActive,\n      accessID: accessID,\n      setAccessID: setAccessID,\n      getUnreadCount: getUnreadCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 3\n  }, this);\n} // state {\n// \tposts: resultingArrayFromAPI\n// \tmacroID: is macro _id\n//\tisPrivate: macro.isPrivate\n//\thasAccess: is macro.hasAccess\n//  \tto check whether user is included or not, \n//\t\tfor add button and privacy\n//\tRun filter on hasAccess before navigate() to page\n// }\n\n_s(Macrospage, \"fcIR2zBA/K03DsRqglmuxC3sANo=\", false, function () {\n  return [useLoaderData, useNavigate];\n});\n\n_c = Macrospage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Macrospage\");","map":{"version":3,"names":["React","useParams","useLocation","useLoaderData","CalInfo","APIaccess","useNavigate","Header","Instant","NotificationsList","Log","FullList","DragSlider","accessAPI","Macrospage","socketURL","socketMessage","setSocketMessage","sendMessage","isActive","setActive","accessID","setAccessID","unreadCount","setUnreadCount","getUnreadCount","lastMessage","selectedDate","set_selectedDate","current","setCurrent","tags","setTags","userTopics","setUserTopics","userID","sessionStorage","getItem","userSettings","data","navigate","postData","setPostData","useState","macroPosts","macroInfo","setMacroInfo","macroID","_id","cal","goToProfile","elCurrent","el","classList","add","getSingleUser","delay","setTimeout","user","userName","state","pinnedPosts","collections","updatePosts","posts","groupPosts","action","type","groupID","length","postCount","notifList","setNotifList","useReducer","menu","toggleMenu","fullList","toggleFullList","source","name","ownerUsername","ARRD","setARRD","addRemoveRequestDelete","request","manageGroup","confirmation","message","topic","then","isMacroPrivate","newInteraction","senderID","recipients","ownerID","recipientUsernames","groupName","console","log","useEffect","document","title","includes","mame","userHasAccess","useRef","remove","admins","userCount","e","preventDefault","getElementById","gallery"],"sources":["/home/jce/Web Dev Space/Syncsequence/frontEnd/src/components/macrospage/macrospage.jsx"],"sourcesContent":["/* * * V I T A L S * * */\r\nimport * as React from 'react';\r\nimport {useParams, useLocation, useLoaderData} from 'react-router-dom';\r\nimport CalInfo from '../calInfo'\r\nimport APIaccess from '../../apiaccess';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nimport './macros.css';\r\n\r\n/* * * C O M P O N E N T S * * */\r\nimport Header from '../../components/base/header';\r\nimport Instant from '../../components/notifs/instant';\r\nimport NotificationsList from '../../components/notifs/notifsList';\r\nimport Log from '../../components/blog/log';\r\nimport FullList from '../../components/base/fullList';\r\nimport DragSlider from '../../components/base/dragSlider';\r\n\r\n\r\nconst accessAPI = APIaccess(); \r\n\r\n\r\n\r\n\r\nexport default function Macrospage({\r\n\tsocketURL,\r\n\tsocketMessage,\r\n    setSocketMessage,     \r\n    sendMessage,\r\n    isActive,\r\n    setActive,\r\n    accessID,\r\n    setAccessID,\r\n    unreadCount,\r\n    setUnreadCount,\r\n    getUnreadCount,\r\n    lastMessage,\r\n    selectedDate,\r\n    set_selectedDate,\r\n    current,\r\n    setCurrent,\r\n    tags,\r\n    setTags,\r\n    userTopics,\r\n    setUserTopics\r\n}) {\r\n\r\n\tconst userID = sessionStorage.getItem('userID');\r\n\tlet userSettings = sessionStorage.getItem('settings');\r\n\tconst data = useLoaderData();\r\n\tconst navigate = useNavigate();\r\n\tconst [postData, setPostData] = React.useState(data.macroPosts);\r\n\tconst [macroInfo, setMacroInfo] = React.useState(data.macroInfo);\r\n\tconst macroID = macroInfo._id;\r\n\tconst cal = CalInfo();\r\n\t// console.log(macroInfo)\r\n\t// console.log(postData)\r\n\t// console.log(userTopics)\r\n\r\n\tlet goToProfile = async(userID) => {\r\n\r\n\t\tlet elCurrent = el.current;\r\n\t\telCurrent.classList.add('_enter');\r\n\r\n\t\tlet data = await accessAPI.getSingleUser(userID);\r\n\t\t\r\n\t\tlet delay = setTimeout(()=> {\r\n\t\t\tnavigate(`/user/${data.user.userName}/${data.user._id}`, {\r\n\t\t\t\tstate: {\r\n\t\t\t\t\tuser: data.user,\r\n\t\t\t\t\tpinnedPosts: data.pinnedPosts,\r\n\t\t\t\t\tcollections: data.collections\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}, 150)\r\n\t}\r\n\t\r\n\tlet updatePosts = async() => {\r\n\t\tlet posts = await accessAPI.groupPosts({action: 'getPosts', type: 'collection', groupID: macroID});\r\n\t\tif(posts.length > 0) {\r\n\t\t\tsetPostData(posts);\r\n\t\t\tsetMacroInfo({\r\n\t\t\t\t...macroInfo,\r\n\t\t\t\tpostCount: posts.length\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t/* Element Related */\r\n\tconst [notifList, setNotifList] = React.useReducer(state => !state, false);\r\n\tconst [menu, toggleMenu] = React.useReducer(state => !state, false);\r\n\tconst [fullList, toggleFullList] = React.useReducer(state => !state, false);\r\n\tconst source = macroInfo.name == 'BOOKMARKS' ? `${macroInfo.ownerUsername}'s ${macroInfo.name}` : macroInfo.name;\r\n\tlet [ARRD, setARRD] = React.useState();\r\n\t// let ARRD;\r\n\r\n\tlet addRemoveRequestDelete = async() => {\r\n\t\tif(ARRD == 'delete') {\r\n\t\t\tlet request = await accessAPI.manageGroup('deleteGroup', {\r\n\t\t\t\ttype: 'tag',\r\n\t\t\t\tgroupID: macroInfo._id,\r\n\t\t\t});\r\n\r\n\t\t\tif(request.confirmation) {\r\n\t\t\t\tnavigate(-1);\r\n\t\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\t\tsetSocketMessage({\r\n\t\t\t\t\t\ttype: 'simpleNotif',\r\n\t\t\t\t\t\tmessage: `Deleted \"${macroInfo.name}\"`\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 200)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telse if(ARRD == 'remove') {\r\n\r\n\t\t\tif(macroInfo.type == 'topic') {\r\n\r\n\t\t\t\tlet request = await accessAPI.manageGroup('removeUser', {\r\n\t\t\t\t\ttopic: macroInfo.name\r\n\t\t\t\t}).then((data) => {\r\n\t\t\t\t\tif(data.confirmation == true) {\r\n\t\t\t\t\t\tsetARRD('add')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetSocketMessage({\r\n\t\t\t\t\ttype: 'simpleNotif',\r\n\t\t\t\t\tmessage: `Removed \"${macroInfo.name}\" from your topics`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet request = await accessAPI.manageGroup('removeUser', {\r\n\t\t\t\t\tgroupID: macroInfo._id,\r\n\t\t\t\t}).then((data) => {\r\n\t\t\t\t\tif(data.confirmation == true) {\r\n\t\t\t\t\t\tif(macroInfo.isMacroPrivate) {\r\n\t\t\t\t\t\t\tsetARRD('request')\r\n\t\t\t\t\t\t\t// ARRD = 'request'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tsetARRD('add')\r\n\t\t\t\t\t\t\t// ARRD = 'add'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetSocketMessage({\r\n\t\t\t\t\ttype: 'simpleNotif',\r\n\t\t\t\t\tmessage: `Removed \"${macroInfo.name}\" to your tags`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telse if(ARRD == 'request') {\r\n\r\n\t\t\tlet request = accessAPI.newInteraction({\r\n\t\t\t\ttype: 'request',\r\n\t\t\t\tmessage: 'accessRequested',\r\n\t\t\t\tsenderID: userID,\r\n\t\t\t\trecipients: [macroInfo.ownerID],\r\n\t\t\t\trecipientUsernames: macroInfo.ownerUsername,\r\n\t\t\t\tgroupID: macroID,\r\n\t\t\t\tgroupName: macroInfo.name\r\n\t\t\t}).then(data => {\r\n\t\t\t\tif(data.confirmation == true) {\r\n\t\t\t\t\tconsole.log('request sent')\r\n\r\n\t\t\t\t\tsetSocketMessage({\r\n\t\t\t\t\t\tmessage: `Request for access sent to @${macroInfo.ownerUsername}`,\r\n\t\t\t\t\t\trecipients: [macroInfo.ownerID],\r\n\t\t\t\t\t\taction: 'updateNotifs'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsetSocketMessage({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: data.message\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\telse if(ARRD == 'add') {\r\n\t\t\tif(macroInfo.type == 'topic') {\r\n\t\t\t\tlet request = await accessAPI.manageGroup('addUser', {\r\n\t\t\t\t\ttopic: macroInfo.name\r\n\t\t\t\t}).then((data) => {\r\n\t\t\t\t\tif(data.confirmation == true) {\r\n\t\t\t\t\t\tsetARRD('remove')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetSocketMessage({\r\n\t\t\t\t\ttype: 'simpleNotif',\r\n\t\t\t\t\tmessage: `Added \"${macroInfo.name}\" to your topics`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet request = accessAPI.manageGroup('addUser', {\r\n\t\t\t\t\tgroupID: macroInfo._id,\r\n\t\t\t\t}).then((data) => {\r\n\t\t\t\t\tif(data.confirmation == true) {\r\n\t\t\t\t\t\tsetARRD('remove')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetSocketMessage({\r\n\t\t\t\t\ttype: 'simpleNotif',\r\n\t\t\t\t\tmessage: `Added \"${macroInfo.name}\" to your tags`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(()=> {\r\n\r\n\t\tdocument.title = 'Syncseq.xyz/macro'\r\n\r\n\t\tconsole.log(macroInfo.name)\r\n\t\tconsole.log(userTopics.includes(macroInfo.mame))\r\n\t\tif(userTopics.includes(macroInfo.mame)) {\r\n\t\t\tsetMacroInfo({\r\n\t\t\t\t...macroInfo,\r\n\t\t\t\tuserHasAccess: true\r\n\t\t\t})\r\n\t\t}\r\n\t\tconsole.log(macroInfo)\r\n\t}, [])\r\n\r\n\tlet el = React.useRef();\r\n\tReact.useEffect(()=> {\r\n\t\tlet elCurrent = el.current;\r\n\t\tlet delay = setTimeout(()=> {\r\n\t\t\telCurrent.classList.remove('_enter');\t\r\n\t\t}, 300)\r\n\r\n\t\tif(macroInfo.ownerID == userID) { \r\n\t\t\tsetARRD('delete')\r\n\t\t\t// ARRD = 'delete'\r\n\t\t}\r\n\t\t// if hasAccess and not owner -> remove\r\n\t\telse if(macroInfo.userHasAccess == true) {\r\n\t\t\tsetARRD('remove')\r\n\t\t\t// ARRD = 'remove'\r\n\t\t}\r\n\t\t// if noaccess and is not private -> add\r\n\t\telse if(!macroInfo.userHasAccess && macroInfo.admins) {\r\n\t\t\tsetARRD('request')\r\n\t\t\t// ARRD = 'request'\r\n\t\t}\r\n\t\t// if no access and is private -> request\r\n\t\telse if(!macroInfo.userHasAccess && !macroInfo.isMacroPrivate) {\r\n\t\t\tsetARRD('add')\r\n\t\t\t// ARRD = 'add'\r\n\t\t}\r\n\t}, []);\r\n\r\n\t// Update posts when fullList is closed\r\n\tReact.useEffect(()=> {\r\n\t\tupdatePosts()\r\n\t}, [fullList])\r\n\r\n\t\t\r\n\treturn (\r\n\t\t<section id=\"MACROS\" ref={el} className={`_enter`}>\r\n\r\n\t\t\t<Header cal={cal} \r\n\t\t\t\t\tisReturnable={true} \r\n\t\t\t\t\tsetNotifList={setNotifList} \r\n\t\t\t\t\tunreadCount={unreadCount}\r\n\t\t\t\t\tsiteLocation={'MACROS'}/>\r\n\r\n\t\t\t<div id=\"mainWrapper\">\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"pageHeader\">\r\n\t\t\t\t\t{macroInfo.name != 'BOOKMARKS' &&\r\n\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\tid=\"addRemoveRequest\"\r\n\t\t\t\t\t\t\t\tonClick={()=> {addRemoveRequestDelete()}}>\r\n\t\t\t\t\t\t\t{ARRD}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t<h3 id=\"subHeading\">\r\n\t\t\t\t\t\t{/*\t\r\n\t\t\t\t\t\t\tTopic: public\r\n\t\t\t\t\t\t\tTag, Private or Not: username\r\n\t\t\t\t\t\t\tCollection: username\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<span className={`${macroInfo.type != 'topic' ? \"toUserProfile\" : ''}`}\r\n\t\t\t\t\t\t\t  onClick={()=> {\r\n\t\t\t\t\t\t\t  \tif(macroInfo.type != 'topic') {\r\n\t\t\t\t\t\t\t  \t\tgoToProfile(macroInfo.ownerID)\t\r\n\t\t\t\t\t\t\t  \t}\r\n\t\t\t\t\t\t\t  \telse return;\r\n\t\t\t\t\t\t\t  }}>\r\n\t\t\t\t\t\t\t{macroInfo.type != 'topic' ? '@' : null}\r\n\t\t\t\t\t\t\t{macroInfo.type != 'topic' ? macroInfo.ownerUsername : 'PUBLIC'}\r\n\t\t\t\t\t\t</span> / {macroInfo.type} /\r\n\t\t\t\t\t</h3>\r\n\r\n\t\t\t\t\t<h2 id=\"macroName\">{macroInfo.name}</h2>\r\n\r\n\t\t\t\t\t<div id=\"infoWrapper\">\r\n\t\t\t\t\t\t<h4 id=\"postCount\">\r\n\t\t\t\t\t\t\t{macroInfo.postCount}\r\n\t\t\t\t\t\t\t<span>Posts</span>\r\n\t\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t\t{(macroInfo.type != 'topic' && macroInfo.name != 'BOOKMARKS') &&\r\n\t\t\t\t\t\t\t<h4 id=\"userCount\">\r\n\t\t\t\t\t\t\t\t{macroInfo.userCount}\r\n\t\t\t\t\t\t\t\t<span>Users Engaged</span>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{(macroInfo.isMacroPrivate && !macroInfo.userHasAccess) &&\r\n\t\t\t\t\t<h2 id='noAccess'>You Must Request Access from the User</h2>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{(macroInfo.isMacroPrivate && macroInfo.userHasAccess) &&\r\n\t\t\t\t\t<Log data={postData} \r\n\t\t\t\t\t \tuserID={userID} \r\n\t\t\t\t\t \tnoHeading={true} \r\n\t\t\t\t\t \tcurrent={current} \r\n\t\t\t\t\t \tsetCurrent={setCurrent}\r\n\t\t\t\t\t \tisUnified={false}/>\r\n\t\t\t\t}\r\n\t\t\t\t{!macroInfo.isMacroPrivate &&\r\n\t\t\t\t\t<Log data={postData} \r\n\t\t\t\t\t \tuserID={userID} \r\n\t\t\t\t\t \tnoHeading={true} \r\n\t\t\t\t\t \tcurrent={current} \r\n\t\t\t\t\t \tsetCurrent={setCurrent}\r\n\t\t\t\t\t \tisUnified={false}/>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\t\t\t<div id=\"menuBar\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t{(macroInfo.type == 'tag' || macroInfo.type == 'topic') &&\r\n\t\t\t\t\t<button className=\"buttonDefault\"\r\n\t\t\t\t\t\t\tonClick={()=> {\r\n\t\t\t\t\t\t\t\tsetTimeout(()=> {\r\n\t\t\t\t\t\t\t\t\tnavigate(-1)\r\n\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t}}>return</button>\r\n\t\t\t\t}\r\n\t\t\t\t{macroInfo.type == 'collection' &&\r\n\t\t\t\t\t<button className=\"buttonDefault\" onClick={toggleMenu}>MENU</button>\r\n\t\t\t\t}\r\n\t\t\t\t{menu &&\r\n\t\t\t\t\t<ul id=\"menu\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<button className=\"buttonDefault\" \r\n\t\t\t\t\t\t\t\t\tonClick={()=> {\r\n\t\t\t\t\t\t\t\t\t\ttoggleFullList()\r\n\t\t\t\t\t\t\t\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu()\t\r\n\t\t\t\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}}>REMOVE ITEMS</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<button className=\"buttonDefault\">SHARE</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<button className=\"buttonDefault\"\r\n\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\tlet menu = document.getElementById('menu');\r\n\t\t\t\t\t\t\t\t\t\tmenu.classList.add('leave')\r\n\r\n\t\t\t\t\t\t\t\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu()\r\n\t\t\t\t\t\t\t\t\t\t}, 150);\r\n\t\t\t\t\t\t\t\t\t}}>x</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t}\t\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\t\t\t{current.gallery.length > 0 &&\r\n\t          <DragSlider current={current} setCurrent={setCurrent} siteLocation={'home'}/>\r\n\t        }\r\n\t\t\t{fullList &&\r\n\t\t\t\t<FullList \r\n\t\t\t\t\tmode={'remove'}\r\n\t\t\t\t\tdata={postData}\r\n\t\t\t\t\tsource={source}\r\n\t\t\t\t\tsetFullList={toggleFullList}\r\n\t\t\t\t\tsetSocketMessage={setSocketMessage}\r\n\t\t\t\t\tsocketMessage={socketMessage}\r\n\t\t\t\t\tgroupID={macroID}/>\r\n\t\t\t}\r\n\r\n\t\t\t{notifList &&\r\n\t          <NotificationsList \r\n\t            setNotifList={setNotifList} \r\n\t            unreadCount={unreadCount}\r\n\t            setUnreadCount={setUnreadCount}\r\n\t            setSocketMessage={setSocketMessage}/>\r\n\t        }\r\n\t\t\t<Instant \r\n\t\t\t\tsocketURL={socketURL}\r\n                socketMessage={socketMessage}\r\n                setSocketMessage={setSocketMessage}\r\n                sendMessage={sendMessage}\r\n                isActive={isActive}\r\n                setActive={setActive}\r\n                accessID={accessID}\r\n                setAccessID={setAccessID}\r\n                getUnreadCount={getUnreadCount}\r\n\t\t\t/>\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\n// state {\r\n// \tposts: resultingArrayFromAPI\r\n// \tmacroID: is macro _id\r\n//\tisPrivate: macro.isPrivate\r\n//\thasAccess: is macro.hasAccess\r\n//  \tto check whether user is included or not, \r\n//\t\tfor add button and privacy\r\n\r\n//\tRun filter on hasAccess before navigate() to page\r\n// }"],"mappings":";;;AAAA;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAQC,SAAR,EAAmBC,WAAnB,EAAgCC,aAAhC,QAAoD,kBAApD;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AAEA,OAAO,cAAP;AAEA;;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,iBAAP,MAA8B,oCAA9B;AACA,OAAOC,GAAP,MAAgB,2BAAhB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;;AAGA,MAAMC,SAAS,GAAGR,SAAS,EAA3B;AAKA,eAAe,SAASS,UAAT,OAqBZ;EAAA;;EAAA,IArBgC;IAClCC,SADkC;IAElCC,aAFkC;IAG/BC,gBAH+B;IAI/BC,WAJ+B;IAK/BC,QAL+B;IAM/BC,SAN+B;IAO/BC,QAP+B;IAQ/BC,WAR+B;IAS/BC,WAT+B;IAU/BC,cAV+B;IAW/BC,cAX+B;IAY/BC,WAZ+B;IAa/BC,YAb+B;IAc/BC,gBAd+B;IAe/BC,OAf+B;IAgB/BC,UAhB+B;IAiB/BC,IAjB+B;IAkB/BC,OAlB+B;IAmB/BC,UAnB+B;IAoB/BC;EApB+B,CAqBhC;EAEF,MAAMC,MAAM,GAAGC,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAAf;EACA,IAAIC,YAAY,GAAGF,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAnB;EACA,MAAME,IAAI,GAAGpC,aAAa,EAA1B;EACA,MAAMqC,QAAQ,GAAGlC,WAAW,EAA5B;EACA,MAAM,CAACmC,QAAD,EAAWC,WAAX,IAA0B1C,KAAK,CAAC2C,QAAN,CAAeJ,IAAI,CAACK,UAApB,CAAhC;EACA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B9C,KAAK,CAAC2C,QAAN,CAAeJ,IAAI,CAACM,SAApB,CAAlC;EACA,MAAME,OAAO,GAAGF,SAAS,CAACG,GAA1B;EACA,MAAMC,GAAG,GAAG7C,OAAO,EAAnB,CATE,CAUF;EACA;EACA;;EAEA,IAAI8C,WAAW,GAAG,MAAMf,MAAN,IAAiB;IAElC,IAAIgB,SAAS,GAAGC,EAAE,CAACvB,OAAnB;IACAsB,SAAS,CAACE,SAAV,CAAoBC,GAApB,CAAwB,QAAxB;IAEA,IAAIf,IAAI,GAAG,MAAM1B,SAAS,CAAC0C,aAAV,CAAwBpB,MAAxB,CAAjB;IAEA,IAAIqB,KAAK,GAAGC,UAAU,CAAC,MAAK;MAC3BjB,QAAQ,CAAE,SAAQD,IAAI,CAACmB,IAAL,CAAUC,QAAS,IAAGpB,IAAI,CAACmB,IAAL,CAAUV,GAAI,EAA9C,EAAiD;QACxDY,KAAK,EAAE;UACNF,IAAI,EAAEnB,IAAI,CAACmB,IADL;UAENG,WAAW,EAAEtB,IAAI,CAACsB,WAFZ;UAGNC,WAAW,EAAEvB,IAAI,CAACuB;QAHZ;MADiD,CAAjD,CAAR;IAOA,CARqB,EAQnB,GARmB,CAAtB;EASA,CAhBD;;EAkBA,IAAIC,WAAW,GAAG,YAAW;IAC5B,IAAIC,KAAK,GAAG,MAAMnD,SAAS,CAACoD,UAAV,CAAqB;MAACC,MAAM,EAAE,UAAT;MAAqBC,IAAI,EAAE,YAA3B;MAAyCC,OAAO,EAAErB;IAAlD,CAArB,CAAlB;;IACA,IAAGiB,KAAK,CAACK,MAAN,GAAe,CAAlB,EAAqB;MACpB3B,WAAW,CAACsB,KAAD,CAAX;MACAlB,YAAY,CAAC,EACZ,GAAGD,SADS;QAEZyB,SAAS,EAAEN,KAAK,CAACK;MAFL,CAAD,CAAZ;IAIA;EACD,CATD;EAWA;;;EACA,MAAM,CAACE,SAAD,EAAYC,YAAZ,IAA4BxE,KAAK,CAACyE,UAAN,CAAiBb,KAAK,IAAI,CAACA,KAA3B,EAAkC,KAAlC,CAAlC;EACA,MAAM,CAACc,IAAD,EAAOC,UAAP,IAAqB3E,KAAK,CAACyE,UAAN,CAAiBb,KAAK,IAAI,CAACA,KAA3B,EAAkC,KAAlC,CAA3B;EACA,MAAM,CAACgB,QAAD,EAAWC,cAAX,IAA6B7E,KAAK,CAACyE,UAAN,CAAiBb,KAAK,IAAI,CAACA,KAA3B,EAAkC,KAAlC,CAAnC;EACA,MAAMkB,MAAM,GAAGjC,SAAS,CAACkC,IAAV,IAAkB,WAAlB,GAAiC,GAAElC,SAAS,CAACmC,aAAc,MAAKnC,SAAS,CAACkC,IAAK,EAA/E,GAAmFlC,SAAS,CAACkC,IAA5G;EACA,IAAI,CAACE,IAAD,EAAOC,OAAP,IAAkBlF,KAAK,CAAC2C,QAAN,EAAtB,CAhDE,CAiDF;;EAEA,IAAIwC,sBAAsB,GAAG,YAAW;IACvC,IAAGF,IAAI,IAAI,QAAX,EAAqB;MACpB,IAAIG,OAAO,GAAG,MAAMvE,SAAS,CAACwE,WAAV,CAAsB,aAAtB,EAAqC;QACxDlB,IAAI,EAAE,KADkD;QAExDC,OAAO,EAAEvB,SAAS,CAACG;MAFqC,CAArC,CAApB;;MAKA,IAAGoC,OAAO,CAACE,YAAX,EAAyB;QACxB9C,QAAQ,CAAC,CAAC,CAAF,CAAR;QACA,IAAIgB,KAAK,GAAGC,UAAU,CAAC,MAAK;UAC3BxC,gBAAgB,CAAC;YAChBkD,IAAI,EAAE,aADU;YAEhBoB,OAAO,EAAG,YAAW1C,SAAS,CAACkC,IAAK;UAFpB,CAAD,CAAhB;QAIA,CALqB,EAKnB,GALmB,CAAtB;MAMA;IACD,CAfD,MAiBK,IAAGE,IAAI,IAAI,QAAX,EAAqB;MAEzB,IAAGpC,SAAS,CAACsB,IAAV,IAAkB,OAArB,EAA8B;QAE7B,IAAIiB,OAAO,GAAG,MAAMvE,SAAS,CAACwE,WAAV,CAAsB,YAAtB,EAAoC;UACvDG,KAAK,EAAE3C,SAAS,CAACkC;QADsC,CAApC,EAEjBU,IAFiB,CAEXlD,IAAD,IAAU;UACjB,IAAGA,IAAI,CAAC+C,YAAL,IAAqB,IAAxB,EAA8B;YAC7BJ,OAAO,CAAC,KAAD,CAAP;UACA;QACD,CANmB,CAApB;QAOAjE,gBAAgB,CAAC;UAChBkD,IAAI,EAAE,aADU;UAEhBoB,OAAO,EAAG,YAAW1C,SAAS,CAACkC,IAAK;QAFpB,CAAD,CAAhB;MAIA,CAbD,MAcK;QACJ,IAAIK,OAAO,GAAG,MAAMvE,SAAS,CAACwE,WAAV,CAAsB,YAAtB,EAAoC;UACvDjB,OAAO,EAAEvB,SAAS,CAACG;QADoC,CAApC,EAEjByC,IAFiB,CAEXlD,IAAD,IAAU;UACjB,IAAGA,IAAI,CAAC+C,YAAL,IAAqB,IAAxB,EAA8B;YAC7B,IAAGzC,SAAS,CAAC6C,cAAb,EAA6B;cAC5BR,OAAO,CAAC,SAAD,CAAP,CAD4B,CAE5B;YACA,CAHD,MAIK;cACJA,OAAO,CAAC,KAAD,CAAP,CADI,CAEJ;YACA;UACD;QACD,CAbmB,CAApB;QAcAjE,gBAAgB,CAAC;UAChBkD,IAAI,EAAE,aADU;UAEhBoB,OAAO,EAAG,YAAW1C,SAAS,CAACkC,IAAK;QAFpB,CAAD,CAAhB;MAIA;IACD,CApCI,MAsCA,IAAGE,IAAI,IAAI,SAAX,EAAsB;MAE1B,IAAIG,OAAO,GAAGvE,SAAS,CAAC8E,cAAV,CAAyB;QACtCxB,IAAI,EAAE,SADgC;QAEtCoB,OAAO,EAAE,iBAF6B;QAGtCK,QAAQ,EAAEzD,MAH4B;QAItC0D,UAAU,EAAE,CAAChD,SAAS,CAACiD,OAAX,CAJ0B;QAKtCC,kBAAkB,EAAElD,SAAS,CAACmC,aALQ;QAMtCZ,OAAO,EAAErB,OAN6B;QAOtCiD,SAAS,EAAEnD,SAAS,CAACkC;MAPiB,CAAzB,EAQXU,IARW,CAQNlD,IAAI,IAAI;QACf,IAAGA,IAAI,CAAC+C,YAAL,IAAqB,IAAxB,EAA8B;UAC7BW,OAAO,CAACC,GAAR,CAAY,cAAZ;UAEAjF,gBAAgB,CAAC;YAChBsE,OAAO,EAAG,+BAA8B1C,SAAS,CAACmC,aAAc,EADhD;YAEhBa,UAAU,EAAE,CAAChD,SAAS,CAACiD,OAAX,CAFI;YAGhB5B,MAAM,EAAE;UAHQ,CAAD,CAAhB;QAKA,CARD,MASK;UACJjD,gBAAgB,CAAC;YAChBkD,IAAI,EAAE,OADU;YAEhBoB,OAAO,EAAEhD,IAAI,CAACgD;UAFE,CAAD,CAAhB;QAIA;MACD,CAxBa,CAAd;IAyBA,CA3BI,MA6BA,IAAGN,IAAI,IAAI,KAAX,EAAkB;MACtB,IAAGpC,SAAS,CAACsB,IAAV,IAAkB,OAArB,EAA8B;QAC7B,IAAIiB,OAAO,GAAG,MAAMvE,SAAS,CAACwE,WAAV,CAAsB,SAAtB,EAAiC;UACpDG,KAAK,EAAE3C,SAAS,CAACkC;QADmC,CAAjC,EAEjBU,IAFiB,CAEXlD,IAAD,IAAU;UACjB,IAAGA,IAAI,CAAC+C,YAAL,IAAqB,IAAxB,EAA8B;YAC7BJ,OAAO,CAAC,QAAD,CAAP;UACA;QACD,CANmB,CAApB;QAOAjE,gBAAgB,CAAC;UAChBkD,IAAI,EAAE,aADU;UAEhBoB,OAAO,EAAG,UAAS1C,SAAS,CAACkC,IAAK;QAFlB,CAAD,CAAhB;MAIA,CAZD,MAaK;QACJ,IAAIK,OAAO,GAAGvE,SAAS,CAACwE,WAAV,CAAsB,SAAtB,EAAiC;UAC9CjB,OAAO,EAAEvB,SAAS,CAACG;QAD2B,CAAjC,EAEXyC,IAFW,CAELlD,IAAD,IAAU;UACjB,IAAGA,IAAI,CAAC+C,YAAL,IAAqB,IAAxB,EAA8B;YAC7BJ,OAAO,CAAC,QAAD,CAAP;UACA;QACD,CANa,CAAd;QAOAjE,gBAAgB,CAAC;UAChBkD,IAAI,EAAE,aADU;UAEhBoB,OAAO,EAAG,UAAS1C,SAAS,CAACkC,IAAK;QAFlB,CAAD,CAAhB;MAIA;IACD;EACD,CAjHD;;EAmHA/E,KAAK,CAACmG,SAAN,CAAgB,MAAK;IAEpBC,QAAQ,CAACC,KAAT,GAAiB,mBAAjB;IAEAJ,OAAO,CAACC,GAAR,CAAYrD,SAAS,CAACkC,IAAtB;IACAkB,OAAO,CAACC,GAAR,CAAYjE,UAAU,CAACqE,QAAX,CAAoBzD,SAAS,CAAC0D,IAA9B,CAAZ;;IACA,IAAGtE,UAAU,CAACqE,QAAX,CAAoBzD,SAAS,CAAC0D,IAA9B,CAAH,EAAwC;MACvCzD,YAAY,CAAC,EACZ,GAAGD,SADS;QAEZ2D,aAAa,EAAE;MAFH,CAAD,CAAZ;IAIA;;IACDP,OAAO,CAACC,GAAR,CAAYrD,SAAZ;EACA,CAbD,EAaG,EAbH;EAeA,IAAIO,EAAE,GAAGpD,KAAK,CAACyG,MAAN,EAAT;EACAzG,KAAK,CAACmG,SAAN,CAAgB,MAAK;IACpB,IAAIhD,SAAS,GAAGC,EAAE,CAACvB,OAAnB;IACA,IAAI2B,KAAK,GAAGC,UAAU,CAAC,MAAK;MAC3BN,SAAS,CAACE,SAAV,CAAoBqD,MAApB,CAA2B,QAA3B;IACA,CAFqB,EAEnB,GAFmB,CAAtB;;IAIA,IAAG7D,SAAS,CAACiD,OAAV,IAAqB3D,MAAxB,EAAgC;MAC/B+C,OAAO,CAAC,QAAD,CAAP,CAD+B,CAE/B;IACA,CAHD,CAIA;IAJA,KAKK,IAAGrC,SAAS,CAAC2D,aAAV,IAA2B,IAA9B,EAAoC;MACxCtB,OAAO,CAAC,QAAD,CAAP,CADwC,CAExC;IACA,CAHI,CAIL;IAJK,KAKA,IAAG,CAACrC,SAAS,CAAC2D,aAAX,IAA4B3D,SAAS,CAAC8D,MAAzC,EAAiD;MACrDzB,OAAO,CAAC,SAAD,CAAP,CADqD,CAErD;IACA,CAHI,CAIL;IAJK,KAKA,IAAG,CAACrC,SAAS,CAAC2D,aAAX,IAA4B,CAAC3D,SAAS,CAAC6C,cAA1C,EAA0D;MAC9DR,OAAO,CAAC,KAAD,CAAP,CAD8D,CAE9D;IACA;EACD,CAzBD,EAyBG,EAzBH,EAtLE,CAiNF;;EACAlF,KAAK,CAACmG,SAAN,CAAgB,MAAK;IACpBpC,WAAW;EACX,CAFD,EAEG,CAACa,QAAD,CAFH;EAKA,oBACC;IAAS,EAAE,EAAC,QAAZ;IAAqB,GAAG,EAAExB,EAA1B;IAA8B,SAAS,EAAG,QAA1C;IAAA,wBAEC,QAAC,MAAD;MAAQ,GAAG,EAAEH,GAAb;MACE,YAAY,EAAE,IADhB;MAEE,YAAY,EAAEuB,YAFhB;MAGE,WAAW,EAAEjD,WAHf;MAIE,YAAY,EAAE;IAJhB;MAAA;MAAA;MAAA;IAAA,QAFD,eAQC;MAAK,EAAE,EAAC,aAAR;MAAA,wBAEC;QAAK,EAAE,EAAC,YAAR;QAAA,WACEsB,SAAS,CAACkC,IAAV,IAAkB,WAAlB,iBACA;UAAQ,SAAS,EAAG,eAApB;UACE,EAAE,EAAC,kBADL;UAEE,OAAO,EAAE,MAAK;YAACI,sBAAsB;UAAG,CAF1C;UAAA,UAGEF;QAHF;UAAA;UAAA;UAAA;QAAA,QAFF,eAUC;UAAI,EAAE,EAAC,YAAP;UAAA,wBAMC;YAAM,SAAS,EAAG,GAAEpC,SAAS,CAACsB,IAAV,IAAkB,OAAlB,GAA4B,eAA5B,GAA8C,EAAG,EAArE;YACG,OAAO,EAAE,MAAK;cACb,IAAGtB,SAAS,CAACsB,IAAV,IAAkB,OAArB,EAA8B;gBAC7BjB,WAAW,CAACL,SAAS,CAACiD,OAAX,CAAX;cACA,CAFD,MAGK;YACL,CANJ;YAAA,WAOEjD,SAAS,CAACsB,IAAV,IAAkB,OAAlB,GAA4B,GAA5B,GAAkC,IAPpC,EAQEtB,SAAS,CAACsB,IAAV,IAAkB,OAAlB,GAA4BtB,SAAS,CAACmC,aAAtC,GAAsD,QARxD;UAAA;YAAA;YAAA;YAAA;UAAA,QAND,SAeYnC,SAAS,CAACsB,IAftB;QAAA;UAAA;UAAA;UAAA;QAAA,QAVD,eA4BC;UAAI,EAAE,EAAC,WAAP;UAAA,UAAoBtB,SAAS,CAACkC;QAA9B;UAAA;UAAA;UAAA;QAAA,QA5BD,eA8BC;UAAK,EAAE,EAAC,aAAR;UAAA,wBACC;YAAI,EAAE,EAAC,WAAP;YAAA,WACElC,SAAS,CAACyB,SADZ,eAEC;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAFD;UAAA;YAAA;YAAA;YAAA;UAAA,QADD,EAMGzB,SAAS,CAACsB,IAAV,IAAkB,OAAlB,IAA6BtB,SAAS,CAACkC,IAAV,IAAkB,WAAhD,iBACA;YAAI,EAAE,EAAC,WAAP;YAAA,WACElC,SAAS,CAAC+D,SADZ,eAEC;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAFD;UAAA;YAAA;YAAA;YAAA;UAAA,QAPF;QAAA;UAAA;UAAA;UAAA;QAAA,QA9BD;MAAA;QAAA;QAAA;QAAA;MAAA,QAFD,EA+CG/D,SAAS,CAAC6C,cAAV,IAA4B,CAAC7C,SAAS,CAAC2D,aAAxC,iBACA;QAAI,EAAE,EAAC,UAAP;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAhDF,EAmDG3D,SAAS,CAAC6C,cAAV,IAA4B7C,SAAS,CAAC2D,aAAvC,iBACA,QAAC,GAAD;QAAK,IAAI,EAAE/D,QAAX;QACE,MAAM,EAAEN,MADV;QAEE,SAAS,EAAE,IAFb;QAGE,OAAO,EAAEN,OAHX;QAIE,UAAU,EAAEC,UAJd;QAKE,SAAS,EAAE;MALb;QAAA;QAAA;QAAA;MAAA,QApDF,EA2DE,CAACe,SAAS,CAAC6C,cAAX,iBACA,QAAC,GAAD;QAAK,IAAI,EAAEjD,QAAX;QACE,MAAM,EAAEN,MADV;QAEE,SAAS,EAAE,IAFb;QAGE,OAAO,EAAEN,OAHX;QAIE,UAAU,EAAEC,UAJd;QAKE,SAAS,EAAE;MALb;QAAA;QAAA;QAAA;MAAA,QA5DF;IAAA;MAAA;MAAA;MAAA;IAAA,QARD,eA8EC;MAAK,EAAE,EAAC,SAAR;MAAA,WAEE,CAACe,SAAS,CAACsB,IAAV,IAAkB,KAAlB,IAA2BtB,SAAS,CAACsB,IAAV,IAAkB,OAA9C,kBACA;QAAQ,SAAS,EAAC,eAAlB;QACE,OAAO,EAAE,MAAK;UACbV,UAAU,CAAC,MAAK;YACfjB,QAAQ,CAAC,CAAC,CAAF,CAAR;UACA,CAFS,EAEP,GAFO,CAAV;QAGA,CALH;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF,EAUEK,SAAS,CAACsB,IAAV,IAAkB,YAAlB,iBACA;QAAQ,SAAS,EAAC,eAAlB;QAAkC,OAAO,EAAEQ,UAA3C;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAXF,EAaED,IAAI,iBACJ;QAAI,EAAE,EAAC,MAAP;QAAA,wBACC;UAAA,uBACC;YAAQ,SAAS,EAAC,eAAlB;YACE,OAAO,EAAE,MAAK;cACbG,cAAc;cACd,IAAIrB,KAAK,GAAGC,UAAU,CAAC,MAAK;gBAC3BkB,UAAU;cACV,CAFqB,EAEnB,GAFmB,CAAtB;YAIA,CAPH;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADD;UAAA;UAAA;UAAA;QAAA,QADD,eAWC;UAAA,uBACC;YAAQ,SAAS,EAAC,eAAlB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADD;UAAA;UAAA;UAAA;QAAA,QAXD,eAcC;UAAA,uBACC;YAAQ,SAAS,EAAC,eAAlB;YACE,OAAO,EAAGkC,CAAD,IAAM;cACdA,CAAC,CAACC,cAAF;cACA,IAAIpC,IAAI,GAAG0B,QAAQ,CAACW,cAAT,CAAwB,MAAxB,CAAX;cACArC,IAAI,CAACrB,SAAL,CAAeC,GAAf,CAAmB,OAAnB;cAEA,IAAIE,KAAK,GAAGC,UAAU,CAAC,MAAK;gBAC3BkB,UAAU;cACV,CAFqB,EAEnB,GAFmB,CAAtB;YAGA,CATH;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADD;UAAA;UAAA;UAAA;QAAA,QAdD;MAAA;QAAA;QAAA;QAAA;MAAA,QAdF;IAAA;MAAA;MAAA;MAAA;IAAA,QA9ED,EA0HE9C,OAAO,CAACmF,OAAR,CAAgB3C,MAAhB,GAAyB,CAAzB,iBACO,QAAC,UAAD;MAAY,OAAO,EAAExC,OAArB;MAA8B,UAAU,EAAEC,UAA1C;MAAsD,YAAY,EAAE;IAApE;MAAA;MAAA;MAAA;IAAA,QA3HT,EA6HE8C,QAAQ,iBACR,QAAC,QAAD;MACC,IAAI,EAAE,QADP;MAEC,IAAI,EAAEnC,QAFP;MAGC,MAAM,EAAEqC,MAHT;MAIC,WAAW,EAAED,cAJd;MAKC,gBAAgB,EAAE5D,gBALnB;MAMC,aAAa,EAAED,aANhB;MAOC,OAAO,EAAE+B;IAPV;MAAA;MAAA;MAAA;IAAA,QA9HF,EAwIEwB,SAAS,iBACF,QAAC,iBAAD;MACE,YAAY,EAAEC,YADhB;MAEE,WAAW,EAAEjD,WAFf;MAGE,cAAc,EAAEC,cAHlB;MAIE,gBAAgB,EAAEP;IAJpB;MAAA;MAAA;MAAA;IAAA,QAzIT,eA+IC,QAAC,OAAD;MACC,SAAS,EAAEF,SADZ;MAEa,aAAa,EAAEC,aAF5B;MAGa,gBAAgB,EAAEC,gBAH/B;MAIa,WAAW,EAAEC,WAJ1B;MAKa,QAAQ,EAAEC,QALvB;MAMa,SAAS,EAAEC,SANxB;MAOa,QAAQ,EAAEC,QAPvB;MAQa,WAAW,EAAEC,WAR1B;MASa,cAAc,EAAEG;IAT7B;MAAA;MAAA;MAAA;IAAA,QA/ID;EAAA;IAAA;IAAA;IAAA;EAAA,QADD;AA6JA,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;GApZwBX,U;UAyBVX,a,EACIG,W;;;KA1BMQ,U"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/jce/Web Dev Space/Syncsequence/frontEnd/src/components/sections/macros.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as React from 'react';\nimport APIaccess from '../../apiaccess';\nimport { useNavigate } from 'react-router-dom';\nimport './macrosSection.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet accessAPI = APIaccess();\nexport function ManageMacros(_ref) {\n  _s();\n\n  let {\n    current,\n    setCurrent,\n    setSocketMessage,\n    socketMessage\n  } = _ref;\n  const userID = sessionStorage.getItem('userID');\n  const username = sessionStorage.getItem('userName');\n  const [userTags, setUserTags] = React.useState([]);\n  const [userCollections, setUserCollections] = React.useState([// {\n    // \tname: 'This is a Collection',\n    // \t_id: 1234,\n    // \tselected: false,\n    // \tdelete: null,\n    // \trename: null,\n    // \tisPrivate: false,\n    // \tmakePrivate: null\n    // },\n  ]);\n\n  let updateMacros = async () => {\n    let tags = await accessAPI.getMacros('tags');\n    tags = tags.filter(Boolean);\n    console.log(tags);\n    tags = tags.filter(tag => tag.type == 'tag');\n    tags = tags.map(tag => {\n      return {\n        name: tag.name,\n        selected: false,\n        id: tag._id\n      };\n    });\n    let collections = await accessAPI.getMacros('collections');\n    collections = collections.map(el => {\n      return {\n        name: el.name,\n        _id: el._id,\n        selected: false,\n        delete: null,\n        rename: null,\n        isPrivate: el.isPrivate,\n        makePrivate: null\n      };\n    });\n    setUserTags(tags);\n    setUserCollections(collections);\n  }; //For Main Options\n\n\n  const [section, setSection] = React.useState([{\n    newTag: false\n  }, {\n    deleteTags: false\n  }, {\n    newCollection: false\n  }, {\n    collections: false\n  }]);\n  const [newTag_value, setNewTag_value] = React.useState({\n    name: '',\n    isPrivate: null\n  });\n  const [newCollection, setNewCollection] = React.useState({\n    name: '',\n    isPrivate: false,\n    description: ''\n  });\n\n  let newTag_onChange = e => {\n    const input = e.currentTarget.value;\n    setNewTag_value({ ...newTag_value,\n      name: e.currentTarget.value\n    });\n  };\n\n  let newTag_submit = async () => {\n    let body = {\n      type: \"tag\",\n      name: newTag_value.name,\n      isPrivate: newTag_value.isPrivate == true ? true : false,\n      action: 'newTag'\n    };\n    console.log(body);\n    setSocketMessage(body); //need to include catch for when newTag_value has spaces\n  };\n\n  let selectDeleteTag = (name, index) => {\n    let tags = userTags.map(ele => {\n      if (ele.name == name) {\n        if (ele.selected == false) {\n          return { ...ele,\n            selected: true\n          };\n        } else if (ele.selected == true) {\n          return { ...ele,\n            selected: false\n          };\n        }\n      } else {\n        return { ...ele,\n          selected: false\n        };\n      }\n    });\n    setUserTags(tags);\n    console.log(tags); // console.log(deleteTags[index].selected)\n  };\n\n  let deleteTag_submit = async id => {\n    let body = {\n      type: 'tag',\n      groupID: id,\n      action: 'deleteTag'\n    };\n    setSocketMessage(body);\n  };\n\n  let newCollectionName_onChange = e => {\n    const input = e.currentTarget.value;\n    setNewCollection({ ...newCollection,\n      name: e.currentTarget.value\n    });\n  };\n\n  let newCollectionDescription_onChange = e => {\n    const input = e.currentTarget.value;\n    setNewCollection({ ...newCollection,\n      description: e.currentTarget.value\n    });\n  };\n\n  let newCollection_submit = async () => {\n    let body = {\n      type: 'collection',\n      name: newCollection.name,\n      isPrivate: newCollection.isPrivate == true ? true : false,\n      details: newCollection.description,\n      action: 'newCollection'\n    };\n    console.log(body);\n    setSocketMessage(body);\n    setNewCollection({\n      name: '',\n      description: '',\n      isPrivate: false\n    });\n  };\n\n  let manageCollections = (name, type, value) => {\n    let newVer = userCollections.map(ele => {\n      if (ele.name == name) {\n        if (type == 'selected') {\n          return { ...ele,\n            selected: value\n          };\n        } else if (type == 'rename') {\n          return { ...ele,\n            selected: false,\n            rename: value\n          };\n        } else if (type == 'makePrivate') {\n          return { ...ele,\n            selected: false,\n            makePrivate: value\n          };\n        } else if (type == 'delete') {\n          return { ...ele,\n            selected: false,\n            delete: value\n          };\n        }\n      } else {\n        return { ...ele,\n          selected: false,\n          rename: false,\n          delete: false,\n          makePrivate: false\n        };\n      }\n    });\n    setUserCollections(newVer);\n  };\n\n  let [editCollection, setEditCollection] = React.useState({\n    newName: '',\n    isPrivate: null,\n    id: null\n  });\n\n  let editCollectionName_onChange = e => {\n    const input = e.currentTarget.value;\n    setEditCollection({ ...editCollection,\n      newName: e.currentTarget.value\n    });\n  };\n\n  let renameCollection = async groupID => {\n    let body = {\n      newName: editCollection.newName,\n      groupID: groupID,\n      action: 'renameCollection'\n    };\n    setSocketMessage(body);\n    setEditCollection({ ...editCollection,\n      newName: ''\n    });\n  };\n\n  let privatizeCollection = async (isPrivate, groupID) => {\n    let body = {\n      isPrivate: isPrivate,\n      groupID: groupID,\n      action: 'privatizeCollection'\n    };\n    setSocketMessage(body);\n  };\n\n  let deleteCollection = async groupID => {\n    setSocketMessage({\n      groupID: groupID,\n      action: 'deleteCollection'\n    });\n  };\n  /* For opening animation */\n\n\n  let modal = React.useRef();\n  React.useEffect(() => {\n    let modalCurrent = modal.current;\n    let delay = setTimeout(() => {\n      modalCurrent.classList.remove('_enter');\n    }, 200);\n    updateMacros();\n  }, []);\n  /*\r\n  \ton response from socketMessage, any open menu option closes.\r\n  \t!update so that it only closes on success responses\r\n  */\n\n  React.useEffect(() => {\n    setSection([{\n      newTag: false\n    }, {\n      deleteTags: false\n    }, {\n      newCollection: false\n    }, {\n      collections: false\n    }]);\n    updateMacros();\n  }, [socketMessage]);\n  console.log(section.newTag);\n  return (\n    /*#__PURE__*/\n    // <div id=\"ManageMacros\" ref={modal} className={`${current.transition == false ? '_enter' : ''}`}>\n    _jsxDEV(\"div\", {\n      id: \"ManageMacros\",\n      ref: modal,\n      className: '_enter',\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Macros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"mainMenu\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: `option ${section.newTag == true ? 'open' : 'close'}`,\n          id: \"createNewTag\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `header buttonDefault`,\n            onClick: e => {\n              e.preventDefault();\n\n              if (section.newTag) {\n                setSection({ ...section,\n                  newTag: false\n                });\n              } else {\n                setSection({ ...section,\n                  newTag: true\n                });\n              }\n            },\n            children: \"Create Tag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"newTagWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Enter a single word phrase\",\n              onChange: newTag_onChange,\n              value: `${newTag_value.name}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'buttonWrapper',\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `buttonDefault ${newTag_value.isPrivate == true ? '' : '_inactive'}`,\n                onClick: e => {\n                  e.preventDefault();\n\n                  if (newTag_value.isPrivate == true) {\n                    setNewTag_value({ ...newTag_value,\n                      isPrivate: false\n                    });\n                  } else {\n                    setNewTag_value({ ...newTag_value,\n                      isPrivate: true\n                    });\n                  }\n                },\n                children: \"Private\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `buttonDefault`,\n                onClick: e => {\n                  e.preventDefault();\n                  newTag_submit();\n                },\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 8\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `option ${section.deleteTags == true ? 'open' : 'close'}`,\n          id: \"deleteTags\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `header buttonDefault`,\n            onClick: e => {\n              e.preventDefault();\n\n              if (section.deleteTags) {\n                setSection({ ...section,\n                  deleteTags: false\n                });\n              } else {\n                setSection({ ...section,\n                  deleteTags: true\n                });\n              }\n            },\n            children: \"Delete Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            id: \"deleteTags\",\n            children: userTags.map((tag, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `${userTags[index].selected == true ? 'selected' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  selectDeleteTag(tag.name, index);\n                },\n                children: tag.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `confirmation`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Are You Sure?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `buttonWrapper`,\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `buttonDefault`,\n                    onClick: e => {\n                      e.preventDefault();\n                      deleteTag_submit(tag.id);\n                    },\n                    children: \"Yes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `buttonDefault`,\n                    onClick: e => {\n                      e.preventDefault();\n                      selectDeleteTag(tag.name, index);\n                    },\n                    children: \"No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 9\n              }, this)]\n            }, tag.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 8\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `option ${section.newCollection == true ? 'open' : 'close'}`,\n          id: \"createNewCollection\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `header buttonDefault`,\n            onClick: e => {\n              e.preventDefault();\n\n              if (section.newCollection) {\n                setSection({ ...section,\n                  newCollection: false\n                });\n              } else {\n                setSection({ ...section,\n                  newCollection: true\n                });\n              }\n            },\n            children: \"New Collection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            id: \"newCollection\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Enter a Name\",\n              name: \"collectionName\",\n              onChange: newCollectionName_onChange,\n              value: `${newCollection.name}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"collectionDescription\",\n              placeholder: \"Enter Description\",\n              rows: \"4\",\n              cols: \"20\",\n              onChange: newCollectionDescription_onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"buttonWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `buttonDefault ${newCollection.isPrivate == true ? '' : '_inactive'}`,\n                onClick: e => {\n                  e.preventDefault();\n\n                  if (newCollection.isPrivate == true) {\n                    setNewCollection({ ...newCollection,\n                      isPrivate: false\n                    });\n                  } else {\n                    setNewCollection({ ...newCollection,\n                      isPrivate: true\n                    });\n                  }\n                },\n                children: \"Private\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `buttonDefault`,\n                onClick: e => {\n                  e.preventDefault();\n                  newCollection_submit();\n                },\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 8\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `option ${section.collections == true ? 'open' : 'close'}`,\n          id: \"manageCollections\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `header buttonDefault`,\n            onClick: e => {\n              e.preventDefault();\n\n              if (section.collections) {\n                setSection({ ...section,\n                  collections: false\n                });\n                manageCollections();\n              } else {\n                setSection({ ...section,\n                  collections: true\n                });\n                manageCollections();\n              }\n            },\n            children: \"Manage Collections\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            id: \"collections\",\n            children: userCollections.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `${userCollections[index].selected == true ? 'selected' : ''} \n\t\t\t\t\t\t\t\t\t\t\t${userCollections[index].rename == true ? '_rename' : ''}\n\t\t\t\t\t\t\t\t\t\t\t${userCollections[index].delete == true ? '_confirm' : ''}\n\t\t\t\t\t\t\t\t\t\t\t${userCollections[index].makePrivate == true ? '_confirm' : ''}`,\n              onClick: e => {\n                e.preventDefault();\n                manageCollections(item.name, 'selected', true);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `options`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `initialChoiceWrapper`,\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `buttonDefault`,\n                    onClick: e => {\n                      e.preventDefault();\n                      setTimeout(() => {\n                        manageCollections(item.name, 'rename', true);\n                      }, 100);\n                    },\n                    children: \"Rename\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `buttonDefault ${userCollections[index].isPrivate == true ? '' : '_inactive'}`,\n                    onClick: e => {\n                      e.preventDefault();\n                      setTimeout(() => {\n                        manageCollections(item.name, 'makePrivate', true);\n                      }, 100);\n                    },\n                    children: \"Private\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `buttonDefault`,\n                    onClick: e => {\n                      e.preventDefault();\n                      setTimeout(() => {\n                        manageCollections(item.name, 'delete', true);\n                      }, 100);\n                    },\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `confirm `,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Are You Sure?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `choiceWrapper`,\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: `buttonDefault`,\n                      onClick: e => {\n                        e.preventDefault();\n                        console.log(item.name);\n\n                        if (userCollections[index].delete == true) {\n                          deleteCollection(item._id);\n                        } else if (userCollections[index].makePrivate == true) {\n                          let change = userCollections[index].isPrivate == true ? false : true;\n                          privatizeCollection(change, item._id);\n                        }\n                      },\n                      children: \"Yes\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 525,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: `buttonDefault`,\n                      onClick: e => {\n                        e.preventDefault();\n                        console.log('thing');\n                        setTimeout(() => {\n                          manageCollections();\n                        }, 100);\n                      },\n                      children: \"No\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 538,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: ` `,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Enter New Title\",\n                    value: `${editCollection.newName}`,\n                    onChange: editCollectionName_onChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: 'wrapper',\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: `buttonDefault`,\n                      onClick: e => {\n                        e.preventDefault();\n                        setTimeout(() => {\n                          manageCollections(item.name, 'rename', false);\n                        }, 100);\n                        setEditCollection({ ...editCollection,\n                          newName: ''\n                        });\n                      },\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: `buttonDefault`,\n                      onClick: e => {\n                        e.preventDefault();\n                        renameCollection(item._id);\n                      },\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 565,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 9\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 8\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"exit\",\n        className: `buttonDefault`,\n        onClick: e => {\n          e.preventDefault();\n          let modalCurrent = modal.current;\n          modalCurrent.classList.add('_enter');\n          let secondDelay = setTimeout(() => {\n            setCurrent({ ...current,\n              modal: false\n            });\n          }, 400);\n        },\n        children: \"Exit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 3\n    }, this)\n  );\n}\n\n_s(ManageMacros, \"Cg9zn4XJwlezRLinQXtQA58Y9Nk=\");\n\n_c = ManageMacros;\nexport default function Macros(_ref2) {\n  _s2();\n\n  let {\n    active,\n    current,\n    setCurrent,\n    tags,\n    setTags,\n    userTopics,\n    setUserTopics,\n    sectionClass\n  } = _ref2;\n  const userID = sessionStorage.getItem('userID');\n  const navigate = useNavigate();\n  let isActive = active;\n  let [modal, setModal] = React.useReducer(state => !state, false);\n  let [tagsSection, toggleTags] = React.useReducer(state => !state, false);\n  let [privatePostsSection, togglePrivatePosts] = React.useReducer(state => !state, false);\n  let [collectionsSection, toggleCollections] = React.useReducer(state => !state, false);\n  let [privatePosts, setPrivatePosts] = React.useState([]);\n  let [collections, setCollections] = React.useState([]);\n\n  let updateMacros = async () => {\n    let tags = await accessAPI.getMacros('tags'); //allTagsUsed\n\n    tags = tags.filter(e => e);\n    console.log(tags);\n    let userPrivatePosts = await accessAPI.getMacros('private');\n    let collections = await accessAPI.getMacros('collections');\n    setTags(tags);\n    setPrivatePosts(userPrivatePosts);\n    setCollections(collections);\n  };\n\n  let goToMacrosPage = async tag => {\n    setTimeout(() => {\n      navigate(`/macros/${tag.name}/${tag._id}`, {\n        state: {// topicHasAccess: macroInfo.type == 'topic' &&\n        }\n      });\n    }, 200);\n  };\n\n  let goToPost = async postData => {\n    setTimeout(() => {\n      navigate(`/post/${postData._id}`);\n    }, 600);\n  };\n\n  console.log(tagsSection);\n  console.log(collections);\n  React.useEffect(() => {\n    updateMacros();\n  }, []);\n  React.useEffect(() => {\n    updateMacros();\n  }, [current]); // 03. 15. 2024 @ 2225 - use individual useReducer toggles for section toggles\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"Macros\",\n    className: `${isActive == 2 ? 'active' : 'not'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"userTags\",\n      className: `${tagsSection == true ? 'open' : 'close'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `headerWrapper`,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Recent Tags\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `buttonDefault`,\n          onClick: e => {\n            e.preventDefault();\n            toggleTags();\n          },\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: `tagsWrapper`,\n        children: tags.map(tag => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `${tag.type} ${tag.isPrivate == true ? 'private' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: tag.type,\n            onClick: e => {\n              e.preventDefault();\n              goToMacrosPage(tag);\n            },\n            children: tag.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 8\n          }, this)\n        }, tag.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"privatePosts\",\n      className: `${privatePostsSection == true ? 'open' : 'close'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `headerWrapper`,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Private Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `buttonDefault`,\n          onClick: e => {\n            e.preventDefault();\n            togglePrivatePosts();\n          },\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: `postsWrapper`,\n        children: privatePosts.length > 0 && privatePosts.map(post => {\n          let cmntcount = 0,\n              commentCount;\n\n          let countComments = comments => {\n            for (let cmnt of comments) {\n              cmntcount++;\n              countComments(cmnt.replies);\n            }\n\n            commentCount = cmntcount;\n          };\n\n          countComments(post.comments);\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              goToPost(post);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [post.postedOn_month, \". \", post.postedOn_day, \". \", post.postedOn_year]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: `deets`,\n              children: [post.tags.length > 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [post.tags.length, \" tags\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 12\n              }, this), commentCount > 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [commentCount, \" comments\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 12\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 9\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"collections\",\n      className: `${collectionsSection == true ? 'open' : 'close'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `headerWrapper`,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Collections\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `buttonDefault`,\n          onClick: e => {\n            e.preventDefault();\n            toggleCollections();\n          },\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: `collectionsWrapper`,\n        children: collections.length > 0 && collections.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              goToMacrosPage(item);\n            },\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 9\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 735,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 665,\n    columnNumber: 3\n  }, this);\n}\n\n_s2(Macros, \"4ie3wKtC7m4cCUufDQFkgPY/Skc=\", false, function () {\n  return [useNavigate];\n});\n\n_c2 = Macros;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ManageMacros\");\n$RefreshReg$(_c2, \"Macros\");","map":{"version":3,"names":["React","APIaccess","useNavigate","accessAPI","ManageMacros","current","setCurrent","setSocketMessage","socketMessage","userID","sessionStorage","getItem","username","userTags","setUserTags","useState","userCollections","setUserCollections","updateMacros","tags","getMacros","filter","Boolean","console","log","tag","type","map","name","selected","id","_id","collections","el","delete","rename","isPrivate","makePrivate","section","setSection","newTag","deleteTags","newCollection","newTag_value","setNewTag_value","setNewCollection","description","newTag_onChange","e","input","currentTarget","value","newTag_submit","body","action","selectDeleteTag","index","ele","deleteTag_submit","groupID","newCollectionName_onChange","newCollectionDescription_onChange","newCollection_submit","details","manageCollections","newVer","editCollection","setEditCollection","newName","editCollectionName_onChange","renameCollection","privatizeCollection","deleteCollection","modal","useRef","useEffect","modalCurrent","delay","setTimeout","classList","remove","preventDefault","item","change","add","secondDelay","Macros","active","setTags","userTopics","setUserTopics","sectionClass","navigate","isActive","setModal","useReducer","state","tagsSection","toggleTags","privatePostsSection","togglePrivatePosts","collectionsSection","toggleCollections","privatePosts","setPrivatePosts","setCollections","userPrivatePosts","goToMacrosPage","goToPost","postData","length","post","cmntcount","commentCount","countComments","comments","cmnt","replies","postedOn_month","postedOn_day","postedOn_year","title"],"sources":["/home/jce/Web Dev Space/Syncsequence/frontEnd/src/components/sections/macros.jsx"],"sourcesContent":["import * as React from 'react';\r\nimport APIaccess from '../../apiaccess';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport './macrosSection.css';\r\n\r\nlet accessAPI = APIaccess();\r\n\r\nexport function ManageMacros({current, setCurrent, setSocketMessage, socketMessage}) {\r\n\r\n\tconst userID = sessionStorage.getItem('userID');\r\n\tconst username = sessionStorage.getItem('userName');\r\n\tconst [userTags, setUserTags] = React.useState([]);\r\n\tconst [userCollections, setUserCollections] = React.useState([\r\n\t\t// {\r\n\t\t// \tname: 'This is a Collection',\r\n\t\t// \t_id: 1234,\r\n\t\t// \tselected: false,\r\n\t\t// \tdelete: null,\r\n\t\t// \trename: null,\r\n\t\t// \tisPrivate: false,\r\n\t\t// \tmakePrivate: null\r\n\t\t// },\r\n\t])\r\n\tlet updateMacros = async() => {\r\n\r\n\t\tlet tags = await accessAPI.getMacros('tags');\r\n\t\ttags = tags.filter(Boolean);\r\n\t\tconsole.log(tags);\r\n\r\n\t\ttags = tags.filter(tag => tag.type == 'tag');\r\n\t\ttags = tags.map(tag => {\r\n\t\t\treturn {\r\n\t\t\t\tname: tag.name,\r\n\t\t\t\tselected: false,\r\n\t\t\t\tid: tag._id\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlet collections = await accessAPI.getMacros('collections');\r\n\t\tcollections = collections.map(el => {\r\n\t\t\treturn {\r\n\t\t\t\tname: el.name,\r\n\t\t\t\t_id: el._id,\r\n\t\t\t\tselected: false,\r\n\t\t\t\tdelete: null,\r\n\t\t\t\trename: null,\r\n\t\t\t\tisPrivate: el.isPrivate,\r\n\t\t\t\tmakePrivate: null\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tsetUserTags(tags);\r\n\t\tsetUserCollections(collections); \r\n\t}\r\n\t\r\n\t//For Main Options\r\n\tconst [section, setSection] = React.useState([\r\n\t\t{\r\n\t\t\tnewTag: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tdeleteTags: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tnewCollection: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tcollections: false\r\n\t\t}\r\n\t])\r\n\tconst [newTag_value, setNewTag_value] = React.useState({\r\n\t\tname: '',\r\n\t\tisPrivate: null\r\n\t});\r\n\tconst [newCollection, setNewCollection] = React.useState({\r\n\t\tname: '',\r\n\t\tisPrivate: false,\r\n\t\tdescription: ''\r\n\t});\r\n\r\n\tlet newTag_onChange = (e) => {\r\n\t\tconst input = e.currentTarget.value;\r\n\t\tsetNewTag_value({\r\n\t\t\t...newTag_value,\r\n\t\t\tname: e.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tlet newTag_submit = async() => {\r\n\r\n\t\tlet body = {\r\n\t\t\t type: \"tag\",\r\n\t\t\t name: newTag_value.name,\r\n\t\t\t isPrivate: newTag_value.isPrivate == true ? true : false,\r\n\t\t\t action: 'newTag'\r\n\t\t}\r\n\t\tconsole.log(body);\r\n\t\tsetSocketMessage(body);\r\n\t\t//need to include catch for when newTag_value has spaces\r\n\t}\r\n\r\n\r\n\tlet selectDeleteTag = (name, index) => {\r\n\t\tlet tags = userTags.map(ele => {\r\n\t\t\tif(ele.name == name) {\r\n\t\t\t\t\r\n\t\t\t\tif(ele.selected == false) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...ele,\r\n\t\t\t\t\t\tselected: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(ele.selected == true) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...ele,\r\n\t\t\t\t\t\tselected: false\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...ele,\r\n\t\t\t\t\tselected: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\tsetUserTags(tags);\r\n\t\tconsole.log(tags);\r\n\t\t// console.log(deleteTags[index].selected)\r\n\t}\r\n\tlet deleteTag_submit = async(id) => {\r\n\r\n\t\tlet body = {\r\n\t\t\ttype: 'tag',\r\n\t\t\tgroupID: id,\r\n\t\t\taction: 'deleteTag'\r\n\t\t}\r\n\t\tsetSocketMessage(body);\r\n\t}\r\n\r\n\r\n\r\n\tlet newCollectionName_onChange = (e) => {\r\n\r\n\t\tconst input = e.currentTarget.value;\r\n\t\tsetNewCollection({\r\n\t\t\t...newCollection,\r\n\t\t\tname: e.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tlet newCollectionDescription_onChange = (e) => {\r\n\r\n\t\tconst input = e.currentTarget.value;\r\n\t\tsetNewCollection({\r\n\t\t\t...newCollection,\r\n\t\t\tdescription: e.currentTarget.value\r\n\t\t});\r\n\t}\r\n\tlet newCollection_submit = async() => {\r\n\r\n\t\tlet body = {\r\n\t\t\ttype: 'collection',\r\n            name: newCollection.name,\r\n            isPrivate: newCollection.isPrivate == true ? true : false,\r\n            details: newCollection.description,\r\n            action: 'newCollection'\r\n\t\t}\r\n\t\tconsole.log(body);\r\n\t\tsetSocketMessage(body);\r\n\t\tsetNewCollection({\r\n\t\t\tname: '',\r\n\t\t\tdescription: '',\r\n\t\t\tisPrivate: false\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\tlet manageCollections = (name, type, value) => {\r\n\t\t\r\n\t\tlet newVer = userCollections.map(ele => {\r\n\t\t\tif(ele.name == name) {\r\n\r\n\t\t\t\tif(type == 'selected') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...ele,\r\n\t\t\t\t\t\tselected: value \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(type == 'rename') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...ele,\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t\trename: value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(type == 'makePrivate') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...ele,\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t\tmakePrivate: value \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(type == 'delete') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...ele,\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t\tdelete: value \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...ele,\r\n\t\t\t\t\tselected: false,\r\n\t\t\t\t\trename: false,\r\n\t\t\t\t\tdelete: false,\r\n\t\t\t\t\tmakePrivate: false \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\tsetUserCollections(newVer);\r\n\t}\r\n\tlet [editCollection, setEditCollection] = React.useState({\r\n\t\tnewName: '',\r\n\t\tisPrivate: null,\r\n\t\tid: null\r\n\t})\r\n\r\n\tlet editCollectionName_onChange = (e) => {\r\n\r\n\t\tconst input = e.currentTarget.value;\r\n\t\tsetEditCollection({\r\n\t\t\t...editCollection,\r\n\t\t\tnewName: e.currentTarget.value\r\n\t\t});\r\n\t}\r\n\r\n\tlet renameCollection = async(groupID) => {\r\n\r\n\t\tlet body = {\r\n\t\t\tnewName: editCollection.newName,\r\n\t\t\tgroupID: groupID,\r\n\t\t\taction: 'renameCollection'\r\n\t\t}\r\n\t\tsetSocketMessage(body);\r\n\r\n\t\tsetEditCollection({\r\n\t\t\t...editCollection,\r\n\t\t\tnewName: ''\r\n\t\t})\r\n\t}\r\n\r\n\tlet privatizeCollection = async(isPrivate, groupID) => {\r\n\r\n\t\tlet body = {\r\n\t\t\tisPrivate: isPrivate,\r\n\t\t\tgroupID: groupID,\r\n\t\t\taction: 'privatizeCollection',\r\n\t\t}\r\n\t\tsetSocketMessage(body);\r\n\t}\r\n\r\n\tlet deleteCollection = async(groupID) => {\r\n\r\n\t\tsetSocketMessage({\r\n\t\t\tgroupID: groupID,\r\n\t\t\taction: 'deleteCollection'\r\n\t\t});\r\n\t}\r\n\t\r\n\r\n\t/* For opening animation */\r\n\tlet modal = React.useRef();\r\n\r\n\tReact.useEffect(()=> {\r\n\t\tlet modalCurrent = modal.current;\r\n\t\tlet delay = setTimeout(()=> {\r\n\t\t\tmodalCurrent.classList.remove('_enter');\t\r\n\t\t}, 200)\r\n\r\n\t\tupdateMacros();\r\n\t}, [])\r\n\r\n\t/*\r\n\t\ton response from socketMessage, any open menu option closes.\r\n\t\t!update so that it only closes on success responses\r\n\t*/\r\n\tReact.useEffect(()=> {\r\n\t\tsetSection([\r\n\t\t\t{\r\n\t\t\t\tnewTag: false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tdeleteTags: false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tnewCollection: false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcollections: false\r\n\t\t\t}\r\n\t\t])\r\n\t\tupdateMacros();\r\n\t}, [socketMessage])\r\n\r\n\tconsole.log(section.newTag)\r\n\r\n\treturn (\r\n\t\t// <div id=\"ManageMacros\" ref={modal} className={`${current.transition == false ? '_enter' : ''}`}>\r\n\t\t<div id=\"ManageMacros\" ref={modal} className={'_enter'}>\r\n\r\n\t\t\t\r\n\t\t\t<h2>Macros</h2>\r\n\r\n\t\t\t<ul id=\"mainMenu\">\r\n\t\t\t\t\r\n\t\t\t\t{/* Create New Tag */}\r\n\t\t\t\t<li className={`option ${section.newTag == true ? 'open' : 'close'}`} id=\"createNewTag\">\r\n\t\t\t\t\t<button className={`header buttonDefault`}\r\n\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\tif(section.newTag) {\r\n\t\t\t\t\t\t\t\t\tsetSection({\r\n\t\t\t\t\t\t\t\t\t\t...section,\r\n\t\t\t\t\t\t\t\t\t\tnewTag: false\r\n\t\t\t\t\t\t\t\t\t}) \r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetSection({\r\n\t\t\t\t\t\t\t\t\t\t...section,\r\n\t\t\t\t\t\t\t\t\t\tnewTag: true\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>Create Tag</button>\r\n\r\n\t\t\t\t\t<div className={\"newTagWrapper\"}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tplaceholder=\"Enter a single word phrase\"\r\n\t\t\t\t\t\t\tonChange={newTag_onChange} \r\n\t\t\t\t\t\t\tvalue={`${newTag_value.name}`}/>\r\n\t\t\t\t\t\t<div className={'buttonWrapper'}>\r\n\t\t\t\t\t\t\t<button className={`buttonDefault ${newTag_value.isPrivate == true ? '' : '_inactive'}`} \r\n\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\te.preventDefault()\r\n\r\n\t\t\t\t\t\t\t\tif(newTag_value.isPrivate == true) {\r\n\t\t\t\t\t\t\t\t\tsetNewTag_value({\r\n\t\t\t\t\t\t\t\t\t\t...newTag_value,\r\n\t\t\t\t\t\t\t\t\t\tisPrivate: false\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetNewTag_value({\r\n\t\t\t\t\t\t\t\t\t\t...newTag_value,\r\n\t\t\t\t\t\t\t\t\t\tisPrivate: true\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}>Private</button>\r\n\t\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\tnewTag_submit()\r\n\t\t\t\t\t\t\t}}>Save</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\r\n\t\t\t\t{/*Delete Tags*/}\r\n\t\t\t\t<li className={`option ${section.deleteTags == true ? 'open' : 'close'}`} id=\"deleteTags\">\r\n\t\t\t\t\t<button className={`header buttonDefault`}\r\n\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\tif(section.deleteTags) {\r\n\t\t\t\t\t\t\t\t\tsetSection({\r\n\t\t\t\t\t\t\t\t\t\t...section,\r\n\t\t\t\t\t\t\t\t\t\tdeleteTags: false\r\n\t\t\t\t\t\t\t\t\t}) \r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetSection({\r\n\t\t\t\t\t\t\t\t\t\t...section,\r\n\t\t\t\t\t\t\t\t\t\tdeleteTags: true\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>Delete Tags</button>\r\n\r\n\t\t\t\t\t<ul id=\"deleteTags\">\r\n\t\t\t\t\t\t{userTags.map((tag, index) => (\r\n\t\t\t\t\t\t\t<li key={tag.id}\r\n\t\t\t\t\t\t\t\tclassName={`${userTags[index].selected == true ? 'selected' : ''}`}>\r\n\t\t\t\t\t\t\t\t<button onClick={()=> {selectDeleteTag(tag.name, index)}}>{tag.name}</button>\r\n\t\t\t\t\t\t\t\t<div className={`confirmation`}>\r\n\t\t\t\t\t\t\t\t\t<p>Are You Sure?</p>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`buttonWrapper`}>\r\n\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault`} \r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteTag_submit(tag.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>Yes</button>\r\n\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectDeleteTag(tag.name, index)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>No</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\r\n\t\t\t\t{/*New Collection*/}\r\n\t\t\t\t<li className={`option ${section.newCollection == true ? 'open' : 'close'}`} id=\"createNewCollection\">\r\n\t\t\t\t\t<button className={`header buttonDefault`}\r\n\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\tif(section.newCollection) {\r\n\t\t\t\t\t\t\t\t\tsetSection({\r\n\t\t\t\t\t\t\t\t\t\t...section,\r\n\t\t\t\t\t\t\t\t\t\tnewCollection: false\r\n\t\t\t\t\t\t\t\t\t}) \r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetSection({\r\n\t\t\t\t\t\t\t\t\t\t...section,\r\n\t\t\t\t\t\t\t\t\t\tnewCollection: true\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>New Collection</button>\r\n\r\n\t\t\t\t\t<form id=\"newCollection\">\r\n\t\t\t\t\t\t<input  placeholder=\"Enter a Name\"\r\n\t\t\t\t\t\t\t\tname=\"collectionName\" \r\n\t\t\t\t\t\t\t   \tonChange={newCollectionName_onChange} \r\n\t\t\t\t\t\t\t   \tvalue={`${newCollection.name}`}/>\r\n\t\t\t\t\t\t<textarea name=\"collectionDescription\" \r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Description\" \r\n\t\t\t\t\t\t\t\t\trows=\"4\" \r\n\t\t\t\t\t\t\t\t\tcols=\"20\"\r\n\t\t\t\t\t\t\t\t\tonChange={newCollectionDescription_onChange}>\r\n\t\t\t\t\t\t</textarea>\r\n\r\n\t\t\t\t\t\t<div id=\"buttonWrapper\">\r\n\t\t\t\t\t\t\t<button className={`buttonDefault ${newCollection.isPrivate == true ? '' : '_inactive'}`} onClick={(e)=> {\r\n\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\tif(newCollection.isPrivate == true) {\r\n\t\t\t\t\t\t\t\t\tsetNewCollection({\r\n\t\t\t\t\t\t\t\t\t\t...newCollection,\r\n\t\t\t\t\t\t\t\t\t\tisPrivate: false\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetNewCollection({\r\n\t\t\t\t\t\t\t\t\t\t...newCollection,\r\n\t\t\t\t\t\t\t\t\t\tisPrivate: true\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}>Private</button>\r\n\r\n\t\t\t\t\t\t\t<button className={`buttonDefault`} onClick={(e)=> {\r\n\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\tnewCollection_submit()\r\n\t\t\t\t\t\t\t}}>Save</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</li>\r\n\r\n\t\t\t\t{/*Manage Collections*/}\r\n\t\t\t\t<li className={`option ${section.collections == true ? 'open' : 'close'}`} id=\"manageCollections\">\r\n\t\t\t\t\t<button className={`header buttonDefault`}\r\n\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\tif(section.collections) {\r\n\t\t\t\t\t\t\t\t\tsetSection({\r\n\t\t\t\t\t\t\t\t\t\t...section,\r\n\t\t\t\t\t\t\t\t\t\tcollections: false\r\n\t\t\t\t\t\t\t\t\t}) \r\n\t\t\t\t\t\t\t\t\tmanageCollections();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetSection({\r\n\t\t\t\t\t\t\t\t\t\t...section,\r\n\t\t\t\t\t\t\t\t\t\tcollections: true\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tmanageCollections();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>Manage Collections</button>\r\n\r\n\t\t\t\t\t<ul id=\"collections\">\r\n\t\t\t\t\t\t{userCollections.map((item, index) => (\r\n\t\t\t\t\t\t\t<li key={item.id}\r\n\t\t\t\t\t\t\t\tclassName={`${userCollections[index].selected == true ? 'selected' : ''} \r\n\t\t\t\t\t\t\t\t\t\t\t${userCollections[index].rename == true ? '_rename' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t${userCollections[index].delete == true ? '_confirm' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t${userCollections[index].makePrivate == true ? '_confirm' : ''}`}\r\n\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\tmanageCollections(item.name, 'selected', true);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<p>{item.name}</p>\r\n\t\t\t\t\t\t\t\t<div className={`options`}>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`initialChoiceWrapper`}>\r\n\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmanageCollections(item.name, 'rename', true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>Rename</button>\r\n\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault ${userCollections[index].isPrivate == true ? '' : '_inactive'}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmanageCollections(item.name, 'makePrivate', true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>Private</button>\r\n\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmanageCollections(item.name, 'delete', true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>Delete</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className={`confirm `}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>Are You Sure?</p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={`choiceWrapper`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(item.name)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(userCollections[index].delete == true) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteCollection(item._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse if(userCollections[index].makePrivate == true) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet change = userCollections[index].isPrivate == true ? false : true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprivatizeCollection(change, item._id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>Yes</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('thing');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmanageCollections();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>No</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<form className={` `}>\r\n\t\t\t\t\t\t\t\t\t\t\t<input placeholder=\"Enter New Title\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t   value={`${editCollection.newName}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t   onChange={editCollectionName_onChange}/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={'wrapper'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(()=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmanageCollections(item.name, 'rename', false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEditCollection({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...editCollection,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewName: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>Cancel</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className={`buttonDefault`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenameCollection(item._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>Save</button>\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<button id=\"exit\" \r\n\t\t\t\t\tclassName={`buttonDefault`} \r\n\t\t\t\t\tonClick={(e)=> {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tlet modalCurrent = modal.current;\r\n\t\t\t\t\t\tmodalCurrent.classList.add('_enter');\t\r\n\r\n\t\t\t\t\t\tlet secondDelay = setTimeout(()=> {\r\n\t\t\t\t\t\t\tsetCurrent({\r\n\t\t\t\t\t\t\t\t...current,\r\n\t\t\t\t\t\t\t\tmodal: false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 400)\r\n\t\t\t\t\t}}>Exit\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default function Macros({\r\n\tactive, \r\n\tcurrent, \r\n\tsetCurrent, \r\n\ttags, \r\n\tsetTags, \r\n\tuserTopics, \r\n\tsetUserTopics, \r\n\tsectionClass \r\n}) {\r\n\r\n\tconst userID = sessionStorage.getItem('userID');\r\n\tconst navigate = useNavigate();\r\n\tlet isActive = active;\r\n\tlet [modal, setModal] = React.useReducer(state => !state, false);\r\n\tlet [tagsSection, toggleTags] = React.useReducer(state => !state, false);\r\n\tlet [privatePostsSection, togglePrivatePosts] = React.useReducer(state => !state, false);\r\n\tlet [collectionsSection, toggleCollections] = React.useReducer(state => !state, false);\r\n\tlet [privatePosts, setPrivatePosts] = React.useState([]);\r\n\tlet [collections, setCollections] = React.useState([])\r\n\r\n\r\n\tlet updateMacros = async() => {\r\n\r\n\t\tlet tags = await accessAPI.getMacros('tags'); //allTagsUsed\r\n\t\ttags = tags.filter(e => e);\r\n\t\tconsole.log(tags)\r\n\t\tlet userPrivatePosts = await accessAPI.getMacros('private');\r\n\t\tlet collections = await accessAPI.getMacros('collections');\r\n\r\n\t\tsetTags(tags);\r\n\t\tsetPrivatePosts(userPrivatePosts);\r\n\t\tsetCollections(collections);\r\n\t}\r\n\r\n\tlet goToMacrosPage = async(tag) => {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\tsetTimeout(()=> {\r\n\t\t\tnavigate(`/macros/${tag.name}/${tag._id}`, {\r\n\t\t\t\t\tstate: {\r\n\t\t\t\t\t\t// topicHasAccess: macroInfo.type == 'topic' &&\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}, 200)\r\n\t}\r\n\r\n\tlet goToPost = async(postData) => {\r\n\t\tsetTimeout(()=> {\r\n\t\t\tnavigate(`/post/${postData._id}`);\r\n\t\t}, 600)\r\n\t}\r\n\r\n\tconsole.log(tagsSection)\r\n\tconsole.log(collections)\r\n\r\n\tReact.useEffect(()=> {\r\n\t\tupdateMacros();\r\n\t}, [])\r\n\r\n\tReact.useEffect(()=> {\r\n\t\tupdateMacros();\r\n\t}, [current])\r\n\r\n\t// 03. 15. 2024 @ 2225 - use individual useReducer toggles for section toggles\r\n\r\n\treturn (\r\n\t\t<div id=\"Macros\" className={`${isActive == 2 ? 'active' : 'not'}`}>\r\n\t\t\t\r\n\t\t\t<div id=\"userTags\" className={`${tagsSection == true ? 'open' : 'close'}`}>\r\n\t\t\t\t<div className={`headerWrapper`}>\r\n\t\t\t\t\t<h2>Recent Tags</h2>\r\n\t\t\t\t\t<button className={`buttonDefault`} onClick={(e)=> {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\ttoggleTags();\r\n\t\t\t\t\t}}>+</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<ul className={`tagsWrapper`}>\r\n\t\t\t\t\t{tags.map(tag => (\r\n\t\t\t\t\t\t<li className={`${tag.type} ${tag.isPrivate == true ? 'private' : ''}`} key={tag.name}>\r\n\t\t\t\t\t\t\t<button className={tag.type} onClick={(e)=> {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tgoToMacrosPage(tag);\r\n\t\t\t\t\t\t\t}}>{tag.name}</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div id=\"privatePosts\" className={`${privatePostsSection == true ? 'open' : 'close'}`}>\r\n\t\t\t\t<div className={`headerWrapper`}>\r\n\t\t\t\t\t<h2>Private Posts</h2>\r\n\t\t\t\t\t<button className={`buttonDefault`} onClick={(e)=> {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\ttogglePrivatePosts()\r\n\t\t\t\t\t}}>+</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<ul className={`postsWrapper`}>\r\n\t\t\t\t\t{privatePosts.length > 0 &&\r\n\t\t\t\t\t\tprivatePosts.map(post => {\r\n\r\n\t\t\t\t\t\t\tlet cmntcount = 0, commentCount;\r\n\t\t\t\t\t\t\tlet countComments = (comments) => {\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor(let cmnt of comments) {\r\n\t\t\t\t\t\t\t\t\tcmntcount++;\r\n\t\t\t\t\t\t\t\t\tcountComments(cmnt.replies)\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tcommentCount = cmntcount;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcountComments(post.comments)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<li onClick={()=> {goToPost(post)}}>\r\n\t\t\t\t\t\t\t\t\t<h4>{post.postedOn_month}. {post.postedOn_day}. {post.postedOn_year}</h4>\r\n\t\t\t\t\t\t\t\t\t<h3>{post.title}</h3>\r\n\r\n\t\t\t\t\t\t\t\t\t<ul className={`deets`}>\r\n\t\t\t\t\t\t\t\t\t\t{post.tags.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t<li>{post.tags.length} tags</li>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{commentCount > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t<li>{commentCount} comments</li>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div id=\"collections\" className={`${collectionsSection == true ? 'open' : 'close'}`}> \r\n\t\t\t\t<div className={`headerWrapper`}>\r\n\t\t\t\t\t<h2>Collections</h2>\r\n\t\t\t\t\t<button className={`buttonDefault`} onClick={(e)=> {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\ttoggleCollections()\r\n\t\t\t\t\t}}>+</button>\t\t\t\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<ul className={`collectionsWrapper`}>\r\n\t\t\t\t\t{collections.length > 0 &&\r\n\t\t\t\t\t\tcollections.map(item => {\r\n\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<li onClick={()=> {goToMacrosPage(item)}}>\r\n\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
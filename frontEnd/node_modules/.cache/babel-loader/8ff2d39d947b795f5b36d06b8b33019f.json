{"ast":null,"code":"var _jsxFileName = \"/home/jce/Web Dev Space/Syncsequence/frontEnd/src/UIcontext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\n/**\r\n * Sets user authentication as global context,\r\n * accessible by any nested component, \r\n */\nimport * as React from \"react\";\nimport APIaccess from './apiaccess';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst uiContext = /*#__PURE__*/React.createContext();\nconst accessAPI = APIaccess();\n/*\r\n\tA function which houses other values and functions \r\n\tto operate within the context\r\n*/\n\nexport function useUIC() {\n  _s();\n\n  const [authed, setAuth] = React.useState(() => {\n    if (sessionStorage.getItem('userKey')) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n  const [colorScheme, setColorScheme] = React.useState({\n    bg: null,\n    headings: null,\n    text: null,\n    buttons: null,\n    submenus: null\n  });\n  return {\n    authed,\n    colorScheme,\n    setColorScheme,\n\n    async _login(loginCredentials) {\n      let request = await APIaccess().logInUser(loginCredentials);\n\n      if (request.confirm == true) {\n        if (sessionStorage.getItem('userKey')) {\n          //setColorScheme to options set in request.settings.colorScheme\n          sessionStorage.setItem('settings_preferredLocation_name', request.settings.preferredLocation.city ? request.settings.preferredLocation.city : null);\n          sessionStorage.setItem('settings_preferredLocation_lon', request.settings.preferredLocation.lonLat[0] ? request.settings.preferredLocation.lonLat[0] : null);\n          sessionStorage.setItem('settings_preferredLocation_lat', request.settings.preferredLocation.lonLat[1] ? request.settings.preferredLocation.lonLat[1] : null);\n          setAuth(true);\n          return {\n            confirm: true // settings: request.settings\n\n          };\n        }\n      } else {\n        return request;\n      }\n    },\n\n    async logout() {\n      return new Promise((res, rej) => {\n        sessionStorage.removeItem('userKey');\n        sessionStorage.removeItem('userName');\n        sessionStorage.removeItem('userID');\n        sessionStorage.removeItem('privacySetting');\n        sessionStorage.removeItem('profilePhoto');\n        setAuth(false);\n\n        if (!sessionStorage.userKey) {\n          res();\n        }\n      });\n    }\n\n  };\n}\n\n_s(useUIC, \"+vOdgctnu+7LG8WIoJE8jLGaE+U=\");\n\nexport function UIContextProvider(_ref) {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const UIC = useUIC();\n  return /*#__PURE__*/_jsxDEV(uiContext.Provider, {\n    value: UIC,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(UIContextProvider, \"JVYbMSSFmgLJ66RJ1z9oTA5p4nQ=\", false, function () {\n  return [useUIC];\n});\n\n_c = UIContextProvider;\nexport default function UICConsumer() {\n  _s3();\n\n  return React.useContext(uiContext);\n}\n\n_s3(UICConsumer, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\n_c2 = UICConsumer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UIContextProvider\");\n$RefreshReg$(_c2, \"UICConsumer\");","map":{"version":3,"names":["React","APIaccess","uiContext","createContext","accessAPI","useUIC","authed","setAuth","useState","sessionStorage","getItem","colorScheme","setColorScheme","bg","headings","text","buttons","submenus","_login","loginCredentials","request","logInUser","confirm","setItem","settings","preferredLocation","city","lonLat","logout","Promise","res","rej","removeItem","userKey","UIContextProvider","children","UIC","UICConsumer","useContext"],"sources":["/home/jce/Web Dev Space/Syncsequence/frontEnd/src/UIcontext.js"],"sourcesContent":["/**\r\n * Sets user authentication as global context,\r\n * accessible by any nested component, \r\n */\r\nimport * as React from \"react\";\r\nimport APIaccess from './apiaccess';\r\nconst uiContext = React.createContext();\r\nconst accessAPI = APIaccess();\r\n\r\n\r\n/*\r\n\tA function which houses other values and functions \r\n\tto operate within the context\r\n*/\r\nexport function useUIC() {\r\n\r\n\tconst [authed, setAuth] = React.useState(()=> {\r\n\t\tif(sessionStorage.getItem('userKey')) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\t\r\n\tconst [colorScheme, setColorScheme] = React.useState({\r\n\t\tbg: null,\r\n\t\theadings: null,\r\n\t\ttext: null,\r\n\t\tbuttons: null,\r\n\t\tsubmenus: null\r\n\t})\r\n\r\n\r\n\treturn {\r\n\t\tauthed,\r\n\t\tcolorScheme,\r\n\t\tsetColorScheme,\r\n\r\n\t\tasync _login(loginCredentials) {\r\n\r\n\t\t\tlet request = await APIaccess().logInUser(loginCredentials);\r\n\r\n\t\t\tif(request.confirm == true) {\r\n\t\t\t\tif(sessionStorage.getItem('userKey')) {\r\n\r\n\t\t\t\t\t//setColorScheme to options set in request.settings.colorScheme\r\n\r\n\t\t\t\t\tsessionStorage.setItem('settings_preferredLocation_name', request.settings.preferredLocation.city ? request.settings.preferredLocation.city : null);\r\n\t\t\t\t\tsessionStorage.setItem('settings_preferredLocation_lon', request.settings.preferredLocation.lonLat[0] ? request.settings.preferredLocation.lonLat[0] : null);\r\n\t\t\t\t\tsessionStorage.setItem('settings_preferredLocation_lat', request.settings.preferredLocation.lonLat[1] ? request.settings.preferredLocation.lonLat[1] : null);\r\n\r\n\t\t\t\t\tsetAuth(true);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tconfirm: true,\r\n\t\t\t\t\t\t// settings: request.settings\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn request;\r\n\t\t\t}\t\r\n\t\t},\r\n\r\n\t\tasync logout() {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tsessionStorage.removeItem('userKey');\r\n\t\t\t\tsessionStorage.removeItem('userName');\r\n\t\t\t\tsessionStorage.removeItem('userID');\r\n\t\t\t\tsessionStorage.removeItem('privacySetting');\r\n\t\t\t\tsessionStorage.removeItem('profilePhoto');\r\n\t\t\t\tsetAuth(false);\r\n\t\t\t\tif(!sessionStorage.userKey) {\r\n\t\t\t\t\tres()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function UIContextProvider({ children }) {\r\n\tconst UIC = useUIC();\r\n\r\n\treturn <uiContext.Provider value={UIC}>{children}</uiContext.Provider>\r\n}\r\n\r\nexport default function UICConsumer(){\r\n\treturn React.useContext(uiContext);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
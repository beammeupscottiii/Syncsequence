{"ast":null,"code":"/**\n * CIE LUV (C'est la vie)\n *\n * @module color-space/luv\n */\nimport xyz from './xyz.js';\nexport default {\n  name: 'luv',\n  //NOTE: luv has no rigidly defined limits\n  //easyrgb fails to get proper coords\n  //boronine states no rigid limits\n  //colorMine refers this ones:\n  min: [0, -134, -140],\n  max: [100, 224, 122],\n  channel: ['lightness', 'u', 'v'],\n  alias: ['LUV', 'cieluv', 'cie1976'],\n  xyz: function (arg, i, o) {\n    var _u, _v, l, u, v, x, y, z, xn, yn, zn, un, vn;\n\n    l = arg[0], u = arg[1], v = arg[2];\n    if (l === 0) return [0, 0, 0]; //get constants\n    //var e = 0.008856451679035631; //(6/29)^3\n\n    var k = 0.0011070564598794539; //(3/29)^3\n    //get illuminant/observer\n\n    i = i || 'D65';\n    o = o || 2;\n    xn = xyz.whitepoint[o][i][0];\n    yn = xyz.whitepoint[o][i][1];\n    zn = xyz.whitepoint[o][i][2];\n    un = 4 * xn / (xn + 15 * yn + 3 * zn);\n    vn = 9 * yn / (xn + 15 * yn + 3 * zn); // un = 0.19783000664283;\n    // vn = 0.46831999493879;\n\n    _u = u / (13 * l) + un || 0;\n    _v = v / (13 * l) + vn || 0;\n    y = l > 8 ? yn * Math.pow((l + 16) / 116, 3) : yn * l * k; //wikipedia method\n\n    x = y * 9 * _u / (4 * _v) || 0;\n    z = y * (12 - 3 * _u - 20 * _v) / (4 * _v) || 0; //boronine method\n    //https://github.com/boronine/husl/blob/master/husl.coffee#L201\n    // x = 0 - (9 * y * _u) / ((_u - 4) * _v - _u * _v);\n    // z = (9 * y - (15 * _v * y) - (_v * x)) / (3 * _v);\n\n    return [x, y, z];\n  }\n}; // http://www.brucelindbloom.com/index.html?Equations.html\n// https://github.com/boronine/husl/blob/master/husl.coffee\n//i - illuminant\n//o - observer\n\nxyz.luv = function (arg, i, o) {\n  var _u, _v, l, u, v, x, y, z, xn, yn, zn, un, vn; //get constants\n\n\n  var e = 0.008856451679035631; //(6/29)^3\n\n  var k = 903.2962962962961; //(29/3)^3\n  //get illuminant/observer coords\n\n  i = i || 'D65';\n  o = o || 2;\n  xn = xyz.whitepoint[o][i][0];\n  yn = xyz.whitepoint[o][i][1];\n  zn = xyz.whitepoint[o][i][2];\n  un = 4 * xn / (xn + 15 * yn + 3 * zn);\n  vn = 9 * yn / (xn + 15 * yn + 3 * zn);\n  x = arg[0], y = arg[1], z = arg[2];\n  _u = 4 * x / (x + 15 * y + 3 * z) || 0;\n  _v = 9 * y / (x + 15 * y + 3 * z) || 0;\n  var yr = y / yn;\n  l = yr <= e ? k * yr : 116 * Math.pow(yr, 1 / 3) - 16;\n  u = 13 * l * (_u - un);\n  v = 13 * l * (_v - vn);\n  return [l, u, v];\n};","map":{"version":3,"names":["xyz","name","min","max","channel","alias","arg","i","o","_u","_v","l","u","v","x","y","z","xn","yn","zn","un","vn","k","whitepoint","Math","pow","luv","e","yr"],"sources":["/home/jce/Web Dev Space/Syncsequence/frontEnd/node_modules/color-space/luv.js"],"sourcesContent":["/**\n * CIE LUV (C'est la vie)\n *\n * @module color-space/luv\n */\n import xyz from './xyz.js';\n\nexport default {\n\tname: 'luv',\n\t//NOTE: luv has no rigidly defined limits\n\t//easyrgb fails to get proper coords\n\t//boronine states no rigid limits\n\t//colorMine refers this ones:\n\tmin: [0,-134,-140],\n\tmax: [100,224,122],\n\tchannel: ['lightness', 'u', 'v'],\n\talias: ['LUV', 'cieluv', 'cie1976'],\n\n\txyz: function(arg, i, o){\n\t\tvar _u, _v, l, u, v, x, y, z, xn, yn, zn, un, vn;\n\t\tl = arg[0], u = arg[1], v = arg[2];\n\n\t\tif (l === 0) return [0,0,0];\n\n\t\t//get constants\n\t\t//var e = 0.008856451679035631; //(6/29)^3\n\t\tvar k = 0.0011070564598794539; //(3/29)^3\n\n\t\t//get illuminant/observer\n\t\ti = i || 'D65';\n\t\to = o || 2;\n\n\t\txn = xyz.whitepoint[o][i][0];\n\t\tyn = xyz.whitepoint[o][i][1];\n\t\tzn = xyz.whitepoint[o][i][2];\n\n\t\tun = (4 * xn) / (xn + (15 * yn) + (3 * zn));\n\t\tvn = (9 * yn) / (xn + (15 * yn) + (3 * zn));\n\t\t// un = 0.19783000664283;\n\t\t// vn = 0.46831999493879;\n\n\n\t\t_u = u / (13 * l) + un || 0;\n\t\t_v = v / (13 * l) + vn || 0;\n\n\t\ty = l > 8 ? yn * Math.pow( (l + 16) / 116 , 3) : yn * l * k;\n\n\t\t//wikipedia method\n\t\tx = y * 9 * _u / (4 * _v) || 0;\n\t\tz = y * (12 - 3 * _u - 20 * _v) / (4 * _v) || 0;\n\n\t\t//boronine method\n\t\t//https://github.com/boronine/husl/blob/master/husl.coffee#L201\n\t\t// x = 0 - (9 * y * _u) / ((_u - 4) * _v - _u * _v);\n\t\t// z = (9 * y - (15 * _v * y) - (_v * x)) / (3 * _v);\n\n\t\treturn [x, y, z];\n\t}\n};\n\n// http://www.brucelindbloom.com/index.html?Equations.html\n// https://github.com/boronine/husl/blob/master/husl.coffee\n//i - illuminant\n//o - observer\nxyz.luv = function(arg, i, o) {\n\tvar _u, _v, l, u, v, x, y, z, xn, yn, zn, un, vn;\n\n\t//get constants\n\tvar e = 0.008856451679035631; //(6/29)^3\n\tvar k = 903.2962962962961; //(29/3)^3\n\n\t//get illuminant/observer coords\n\ti = i || 'D65';\n\to = o || 2;\n\n\txn = xyz.whitepoint[o][i][0];\n\tyn = xyz.whitepoint[o][i][1];\n\tzn = xyz.whitepoint[o][i][2];\n\n\tun = (4 * xn) / (xn + (15 * yn) + (3 * zn));\n\tvn = (9 * yn) / (xn + (15 * yn) + (3 * zn));\n\n\n\tx = arg[0], y = arg[1], z = arg[2];\n\n\n\t_u = (4 * x) / (x + (15 * y) + (3 * z)) || 0;\n\t_v = (9 * y) / (x + (15 * y) + (3 * z)) || 0;\n\n\tvar yr = y/yn;\n\n\tl = yr <= e ? k * yr : 116 * Math.pow(yr, 1/3) - 16;\n\n\tu = 13 * l * (_u - un);\n\tv = 13 * l * (_v - vn);\n\n\treturn [l, u, v];\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
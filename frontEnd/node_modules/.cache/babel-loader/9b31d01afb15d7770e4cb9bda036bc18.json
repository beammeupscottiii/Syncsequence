{"ast":null,"code":"var _jsxFileName = \"/home/jce/Web Dev Space/Syncsequence/frontEnd/src/components/entry/entry.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport APIaccess from '../../apiaccess';\nimport useUIC from '../../UIcontext';\nimport '../../index.css';\nimport './entry.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst accessAPI = APIaccess();\n/* helps organize formData */\n\nconst formReducer = (state, event) => {\n  return { ...state,\n    [event.name]: event.value\n  };\n};\n\nfunction UserSignUp(_ref) {\n  _s();\n\n  let {\n    setSignup,\n    signup,\n    transition,\n    setPopUp,\n    signupIsReady,\n    setSignupIsReady,\n    isSignUpReady,\n    setIsSignUpReady,\n    formData,\n    setFormData,\n    signupSubmit,\n    signupSequence,\n    setSignupSequence,\n    privacyOption,\n    setPrivacyOption,\n    profilePhoto,\n    setProfilePhoto,\n    topics,\n    setTopics\n  } = _ref;\n\n  /**\r\n   * 09. 17. 2023\r\n   * Provides user sign up form\r\n   * On successful submission, notifies user of success\r\n   * afterwards, user sign in component appears\r\n   */\n  let form = React.useRef();\n  let thisForm = form.current; // const [topics, setTopics] = React.useState();\n\n  const getTopics = async () => {\n    let body = new FormData();\n    body.append('action', 'getTopics');\n    let request = await accessAPI.signupUser(body);\n    request = request.sort().map(topic => {\n      return {\n        name: topic,\n        selected: false\n      };\n    });\n    setTopics(request);\n  };\n\n  const selectTopic = async topic => {\n    console.log(topic);\n    let setter = topics.map(item => {\n      if (topic.name == item.name) {\n        if (topic.selected == true) {\n          return {\n            name: topic.name,\n            selected: false\n          };\n        } else {\n          return {\n            name: topic.name,\n            selected: true\n          };\n        }\n      } else return item;\n    });\n    setTopics(setter);\n  };\n\n  const handleChange = event => {\n    if (event.target.name == 'image') {\n      setProfilePhoto(event.target.files[0]);\n      console.log(event.target.files[0]);\n    } else {\n      setFormData({\n        name: event.target.name,\n        value: event.target.value\n      });\n    }\n  };\n  /* \r\n  \tAnimation sequence on mount \r\n  */\n\n\n  React.useEffect(() => {\n    getTopics();\n\n    if (thisForm) {\n      if (signup == false) {\n        thisForm.classList.remove('_active');\n        thisForm.classList.add('_nonActive');\n        let delay = setTimeout(() => {\n          thisForm.style.display = 'none';\n        }, 550);\n      }\n\n      if (signup == true) {\n        thisForm.style.display = 'block';\n        thisForm.classList.add('_active');\n      }\n    }\n  }, [signup]);\n  /*\r\n  \tcheck whether all inputs have value before making submit button active\r\n  */\n\n  React.useEffect(() => {\n    if (thisForm) {\n      let inputs = Array.from(thisForm.children[0].children);\n      let check = 0;\n      inputs.forEach(input => {\n        if (input.value != '') {\n          check++;\n        }\n      });\n\n      if (check == 5) {\n        if (!signupIsReady) {\n          setSignupIsReady();\n        }\n      }\n    }\n  }, [formData]);\n  const [imageButton, setImageButton] = React.useState('Add Photo');\n  React.useEffect(() => {\n    if (profilePhoto != undefined) {\n      setImageButton('Change Photo');\n    }\n  }, [profilePhoto]);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"signup\",\n    onSubmit: signupSubmit,\n    ref: form,\n    encType: \"multipart/form-data\",\n    children: [signupSequence == 1 && /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      id: \"signupForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"firstName\",\n        placeholder: \"First Name\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"lastName\",\n        placeholder: \"Last Name\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"emailAddr\",\n        placeholder: \"Email Address\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"userName\",\n        placeholder: \"Your Username\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password\",\n        placeholder: \"Create a Password\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }, this), signupSequence == 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"privacyOptions\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Adjust Your Privacy Setting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"options\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            name: \"privacyOn\",\n            className: `buttonDefault ${privacyOption == 'On' ? '' : '_inactive'}`,\n            onClick: e => {\n              e.preventDefault();\n              setPrivacyOption(\"On\");\n            },\n            children: \"ON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            name: \"privacyHalf\",\n            className: `buttonDefault ${privacyOption == 'Half' ? '' : '_inactive'}`,\n            onClick: e => {\n              e.preventDefault();\n              setPrivacyOption(\"Half\");\n            },\n            children: \"1 / 2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            name: \"privacyOff\",\n            className: `buttonDefault ${privacyOption == 'Off' ? '' : '_inactive'}`,\n            onClick: e => {\n              e.preventDefault();\n              setPrivacyOption(\"Off\");\n            },\n            children: \"OFF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 6\n      }, this), privacyOption == 'On' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Only Connections see \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Full name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 29\n        }, this), `\\n`, \"Only Connections see \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Profile Metrics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 29\n        }, this), `\\n`, \"No Subscribers\", `\\n`, \"All Posts visible only to Connections\", `\\n`, \"Pinned Posts and Media only visible to Connections\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 7\n      }, this), privacyOption == 'Half' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Only Connections see \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Full name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 29\n        }, this), `\\n`, \"Only Connections, Subscribers see \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Profile Metrics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 42\n        }, this), `\\n`, \"Subscribers Can Request\", `\\n`, \"All Posts visible only to Connections & Subscribers\", `\\n`, \"Pinned Posts and Media visible to Everyone\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 7\n      }, this), privacyOption == 'Off' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Everyone can see \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Full name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }, this), `\\n`, \"Everyone can see \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Profile Metrics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 25\n        }, this), `\\n`, \"Subscribers need not Request\", `\\n`, \"All Posts visible to Everyone\", `\\n`, \"Pinned Posts and Media visible to Everyone\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }, this), signupSequence == 3 && /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      id: \"profilePhoto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Would you like to add a profile photo?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 6\n      }, this), profilePhoto && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: URL.createObjectURL(profilePhoto)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"imageAdd\",\n        onChange: handleChange,\n        htmlFor: \"addImage\",\n        onClick: () => {\n          document.getElementById('addImage').click();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          hidden: true,\n          id: \"addImage\",\n          type: \"file\",\n          accept: \"image/\",\n          name: \"image\",\n          hidden: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 7\n        }, this), imageButton]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 5\n    }, this), signupSequence == 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"topicSelection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Choose a few topics to easily find others posting about similar interests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"topicsList\",\n        children: topics.map(topic => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `buttonDefault ${topic.selected == true ? 'selected' : ''}`,\n            onClick: e => {\n              e.preventDefault();\n              selectTopic(topic);\n            },\n            children: topic.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 9\n          }, this)\n        }, topic.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Later you can create custom tags and add those from other users!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"transition\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 3\n  }, this);\n}\n\n_s(UserSignUp, \"KxAvdw2gU5nud4ykTEbKpuXEsbs=\");\n\n_c = UserSignUp;\n\nfunction UserLogIn(_ref2) {\n  _s2();\n\n  let {\n    setUserID,\n    logingIn,\n    setLogingIn,\n    setSignup,\n    setPopUp,\n    exitSequence,\n    setRefPanel,\n    refPanel,\n    setUserDocumentSettings\n  } = _ref2;\n\n  /**\r\n   * 09. 17. 2023\r\n   * Signs in user and returns necessary auth token for backend and userID\r\n   */\n  const [formData, setFormData] = React.useReducer(formReducer, {});\n  const [isReady, setIsReady] = React.useReducer(state => !state, false);\n  const {\n    _login\n  } = useUIC();\n  const navigate = useNavigate();\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    if (!isReady) {\n      return;\n    } else {\n      let inputs = Array.from(thisForm.children[0].children);\n      let check = 0;\n      inputs.forEach(input => {\n        if (input.value != '') {\n          check++;\n        }\n      });\n\n      if (check != 2) {\n        setPopUp({\n          active: true,\n          message: 'Please fill in all fields'\n        });\n      } else {\n        let user = await _login({\n          emailAddr: formData.emailAddr,\n          password: formData.password\n        }); // setUserDocumentSettings(user.settings);\n        // console.log(user)\n\n        if (user.confirm == true) {\n          exitSequence();\n        } else {\n          console.log(user);\n          setPopUp({\n            active: true,\n            message: user\n          });\n        }\n      }\n    }\n  };\n\n  const handleChange = event => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.value\n    });\n  };\n\n  let form = React.useRef();\n  let thisForm = form.current;\n  /*\r\n  \tcheck whether all inputs have value before making submit button active\r\n  */\n\n  React.useEffect(() => {\n    if (thisForm) {\n      let inputs = Array.from(thisForm.children[0].children);\n      let check = 0;\n      inputs.forEach(input => {\n        if (input.value != '') {\n          check++;\n        }\n      });\n\n      if (check == 2) {\n        if (!isReady) {\n          setIsReady();\n        }\n      }\n    }\n  }, [formData]);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"login\",\n    onSubmit: handleSubmit,\n    ref: form,\n    className: `_active`,\n    children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"emailAddr\",\n        placeholder: \"Email Address\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"login\",\n      type: \"submit\",\n      className: isReady == true ? 'canUse' : 'cantUse',\n      children: \"Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"switch\",\n      onClick: e => {\n        e.preventDefault();\n        let thisForm = form.current;\n        thisForm.classList.remove('_active');\n        thisForm.classList.add('_nonActive');\n        let secondStep = setTimeout(() => {\n          setLogingIn();\n        }, 550);\n        let thirdStep = setTimeout(() => {\n          setRefPanel();\n        }, 300);\n      },\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 380,\n    columnNumber: 3\n  }, this);\n}\n\n_s2(UserLogIn, \"wy2sjH2CE+VTKQuLMeHRuXz3a+4=\", false, function () {\n  return [useUIC, useNavigate];\n});\n\n_c2 = UserLogIn;\n\nfunction ReferralPanel(_ref3) {\n  _s3();\n\n  let {\n    setPopUp,\n    setRefPanel,\n    setSwitchToSignup,\n    setSignup,\n    referee,\n    setReferee,\n    login,\n    setLogin\n  } = _ref3;\n  const [buttonMode, setButtonMode] = React.useState('close');\n  const [referralCode, setReferralCode] = React.useState('');\n  const [panelStates, setPanelStates] = React.useState({\n    panel: '',\n    //_leave or _enter\n    classOne: '',\n    displayOne: true,\n    //default true\n    classTwo: '',\n    displayTwo: false //default false\n\n  });\n\n  const handleInput = event => {\n    if (event.target.name == 'referralCode') {\n      setReferralCode(event.target.value);\n    }\n  };\n\n  const handleButton = () => {\n    if (buttonMode == 'close') {\n      setPanelStates({ ...panelStates,\n        panel: '_leave'\n      });\n      let delay = setTimeout(() => {\n        setRefPanel();\n\n        if (login == false) {\n          setLogin();\n        }\n      }, 350);\n    } else if (buttonMode == 'enter') {\n      submitRefCode();\n    } else if (buttonMode == 'continue') {\n      if (login) {\n        setLogin();\n      }\n\n      setSwitchToSignup();\n      setPanelStates({ ...panelStates,\n        panel: \"_leave\"\n      });\n      let secondStep = setTimeout(() => {\n        setRefPanel();\n        setSignup();\n      }, [1100]);\n    }\n  }; //contains transition sequence from first panel to second\n\n\n  const submitRefCode = async () => {\n    let request = await accessAPI.submitRefCode(referralCode);\n\n    if (request.username) {\n      console.log(request);\n      setReferee(request);\n      setPanelStates({ ...panelStates,\n        panel: '_leave'\n      });\n      let second = setTimeout(() => {\n        setPanelStates({ ...panelStates,\n          displayOne: false,\n          displayTwo: true,\n          panel: '_return'\n        });\n        setButtonMode('continue');\n      }, 500);\n    } else if (request.message) {\n      setPopUp({\n        active: true,\n        message: 'This Code is Invalid'\n      });\n    }\n  }; //Changes buttonMode based on change in referralCode\n\n\n  React.useEffect(() => {\n    if (referralCode.length == 8) {\n      setButtonMode('enter');\n    } else {\n      setButtonMode('close');\n    }\n  }, [referralCode]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"referralPanel\",\n    className: `${panelStates.panel}`,\n    children: [panelStates.displayOne && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"firstPanel\",\n      className: `${panelStates.classOne}`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"This Project is in Early Development\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"In order to ensure that this project grows at a steady rate and maintains a quality of being subtle and low profile, new user sign ups are restricted to invitations only.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: `inputDefault`,\n        name: \"referralCode\",\n        maxLength: \"8\",\n        value: referralCode,\n        onChange: handleInput,\n        onKeyDown: e => {\n          if (e.key == 'Enter') submitRefCode();\n        },\n        placeholder: \"Enter Referral Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 5\n    }, this), panelStates.displayTwo && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"secondPanel\",\n      className: `${panelStates.classTwo}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Invited By\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: referee.profilePic\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"@\", referee.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [referee.firstName, \" \", referee.lastName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `buttonDefault ${buttonMode}`,\n      onClick: handleButton,\n      children: buttonMode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 515,\n    columnNumber: 3\n  }, this);\n}\n/**\r\n * 09. 17. 2023\r\n * Main component / page: \r\n * Houses both forms and confirmation element\r\n */\n\n\n_s3(ReferralPanel, \"DeCwn1zK/EtQU/eAkxxiQVgY7G4=\");\n\n_c3 = ReferralPanel;\nexport default function Entry(_ref4) {\n  _s4();\n\n  let {\n    useAuth,\n    setUserID,\n    userDocumentSettings,\n    setUserDocumentSettings\n  } = _ref4;\n  const {\n    _login\n  } = useUIC();\n  /* For Sign Up */\n\n  const [signup, setSignup] = React.useReducer(state => !state, false);\n  const [signupIsReady, setSignupIsReady] = React.useReducer(state => !state, false);\n  const [switchToSignup, setSwitchToSignup] = React.useReducer(state => !state, false);\n  const [signupSequence, setSignupSequence] = React.useState(1);\n  const [signUpSuccess, setSignUpSuccess] = React.useReducer(state => !state, false);\n  const [formData, setFormData] = React.useReducer(formReducer, {});\n  const [privacyOption, setPrivacyOption] = React.useState('Off');\n  const [profilePhoto, setProfilePhoto] = React.useState();\n  const [referee, setReferee] = React.useState({\n    profilePic: '',\n    username: '',\n    firstName: '',\n    lastName: '',\n    _id: ''\n  });\n  const [topics, setTopics] = React.useState(); // const getTopics = async() => {\n  // \tlet request = await accessAPI.signupUser({action: 'getTopics'});\n  // \trequest = request.map(topic => {\n  // \t\treturn {\n  // \t\t\tname: topic,\n  // \t\t\tselected: false\n  // \t\t}\n  // \t})\n  // \tsetTopics(request);\n  // }\n\n  const formValidation = formData => {\n    const {\n      emailAddr,\n      password,\n      firstName,\n      lastName,\n      userName\n    } = formData;\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const nameRegex = /^[a-zA-Z]{2,}$/; // Allows only alphabetic characters, minimum 2 characters\n\n    const usernameRegex = /^[a-zA-Z0-9_]{3,}$/; // Alphanumeric characters and underscores, minimum 3 characters\n\n    const passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/; // Minimum 8 characters, at least one letter and one number\n    //validating fields\n\n    const isEmailValid = emailRegex.test(emailAddr);\n    const isFirstnameValid = nameRegex.test(firstName);\n    const isLastnameValid = nameRegex.test(lastName);\n    const isUsernameValid = usernameRegex.test(userName);\n    const isPasswordValid = passwordRegex.test(password); //arrange invalid fields\n\n    const invalidFields = [];\n    if (!isEmailValid) invalidFields.push(\"Email\");\n    if (!isFirstnameValid) invalidFields.push(\"First Name\");\n    if (!isLastnameValid) invalidFields.push(\"Last Name\");\n    if (!isUsernameValid) invalidFields.push(\"Username\");\n    if (!isPasswordValid) invalidFields.push(\"Password. It must have a minimum of 8 characters, only letters and numbers\");\n    const errorMessage = invalidFields.length > 0 ? `There is an error with ${invalidFields.join(', ')}.` : null;\n    return typeof errorMessage == 'string' ? errorMessage : true;\n  };\n\n  const signupSubmit = async () => {\n    let logoWrapper = document.getElementById('logoWrapper');\n    let signupSuccessButton = document.getElementById('forSignupProcess');\n\n    if (!signupIsReady) {\n      return;\n    } else {\n      let submission = new FormData();\n      submission.append('firstName', formData.firstName);\n      submission.append('lastName', formData.lastName);\n      submission.append('emailAddr', formData.emailAddr);\n      submission.append('userName', formData.userName);\n      submission.append('password', formData.password);\n      submission.append('privacyOption', privacyOption);\n      submission.append('profilePhoto', profilePhoto);\n      submission.append('referrer', referee._id);\n      submission.append('action', 'create');\n      let selectedTopics = topics.filter(el => el.selected == true).map(el => el.name);\n      submission.append('topics', selectedTopics);\n      console.log(submission);\n      let request = await accessAPI.signupUser(submission);\n\n      if (request.confirm == true) {\n        //login user, save necessary info\n        let user = await _login({\n          emailAddr: formData.emailAddr,\n          password: formData.password\n        }); //fade away logo and sequence button\n\n        logoWrapper.classList.add('_leave');\n        signupSuccessButton.classList.add('_leave');\n        let delay = setTimeout(() => {\n          transition();\n        }, 500); //enter home page\n\n        let thirdStep = setTimeout(() => {\n          exitSequence();\n        }, 3700);\n      } else if (request.message) {\n        signupSuccessButton.classList.add('_leave');\n        setPopUp({\n          active: true,\n          message: \"The sign up process failed. Please refresh the page and try again\"\n        });\n        console.log('sign up failed');\n      }\n    }\n  };\n\n  const signupSequencer = async () => {\n    let signupForm = document.getElementById('signupForm');\n    let privacyOptions = document.getElementById('privacyOptions');\n    let profilePhoto = document.getElementById('profilePhoto');\n    let topicSelection = document.getElementById('topicSelection');\n\n    if (signupIsReady && signupSequence == 1) {\n      let validation = formValidation(formData);\n\n      if (validation == true) {\n        let request = await accessAPI.userExistsCheck({\n          action: 'userExistsCheck',\n          userName: formData.userName,\n          emailAddr: formData.emailAddr\n        });\n\n        if (request.confirm == true) {\n          signupForm.classList.add('_leave');\n          let delay = setTimeout(() => {\n            setSignupSequence(2);\n          }, 350);\n        } else if (request.confirm == false) {\n          setPopUp({\n            active: true,\n            message: request.message\n          });\n        }\n      } else {\n        setPopUp({\n          active: true,\n          message: validation\n        });\n      }\n    } else if (signupSequence == 2) {\n      privacyOptions.classList.add('_leave');\n      let delay = setTimeout(() => {\n        setSignupSequence(3);\n      }, 550);\n    } else if (signupSequence == 3) {\n      // getTopics();\n      profilePhoto.classList.add('_leave');\n      let delay = setTimeout(() => {\n        setSignupSequence(4);\n      }, 550);\n    } else if (signupSequence == 4) {\n      topicSelection.classList.add('_leave');\n      let delay = setTimeout(() => {\n        signupSubmit();\n      }, 550);\n    }\n  };\n\n  const [refPanel, setRefPanel] = React.useReducer(state => !state, false);\n  const [login, setLogin] = React.useReducer(state => !state, false);\n  const [popUp, setPopUp] = React.useState({\n    active: false,\n    message: null\n  });\n  const [sequenceButton, setSequenceButton] = React.useState('continue');\n  const [sequenceButtonTrigger, setSequenceButtonTrigger] = React.useReducer(state => !state, false);\n  const [enter, setEnter] = React.useReducer(state => !state, false);\n  const initialChoice = React.useRef();\n  const el = React.useRef();\n  const navigate = useNavigate();\n  /* sequences elements to appear denoting successful signup */\n\n  let transition = () => {\n    setSignUpSuccess();\n    let first = setTimeout(() => {\n      setSignUpSuccess();\n    }, 3100);\n  }; //fades entry page, goes to home page\n\n\n  let exitSequence = () => {\n    setEnter();\n    let delay = setTimeout(() => {\n      navigate('/home');\n    }, 550);\n  };\n\n  React.useEffect(() => {\n    document.title = 'Syncseq.xyz/entry';\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"entry\",\n    ref: el,\n    className: `${enter == true ? '_enter' : ''}\n\t\t\t\t\t\t\t\t\t\t\t\t ${refPanel == true ? 'panelOpen' : ''}`,\n    children: [!signup && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"titleWrapper\",\n      className: `${switchToSignup ? '_leave' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome to\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Sync\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 10\n        }, this), \"hronized\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Seq\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 10\n        }, this), \"uences\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 798,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"xyz\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \".xyz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 799,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 795,\n      columnNumber: 5\n    }, this), signup && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"logoWrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"ss.xyz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 805,\n      columnNumber: 5\n    }, this), refPanel && /*#__PURE__*/_jsxDEV(ReferralPanel, {\n      setPopUp: setPopUp,\n      setRefPanel: setRefPanel,\n      setSwitchToSignup: setSwitchToSignup,\n      setSignup: setSignup,\n      setFormData: setFormData,\n      referee: referee,\n      setReferee: setReferee,\n      login: login,\n      setLogin: setLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(UserSignUp, {\n      signup: signup,\n      setSignup: setSignup,\n      setLogin: setLogin,\n      transition: transition,\n      setPopUp: setPopUp,\n      signupIsReady: signupIsReady,\n      setSignupIsReady: setSignupIsReady,\n      formData: formData,\n      setFormData: setFormData,\n      signupSequence: signupSequence,\n      setSignupSequence: setSignupSequence,\n      privacyOption: privacyOption,\n      setPrivacyOption: setPrivacyOption,\n      profilePhoto: profilePhoto,\n      setProfilePhoto: setProfilePhoto,\n      topics: topics,\n      setTopics: setTopics\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 825,\n      columnNumber: 4\n    }, this), signUpSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"transition\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"first\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Sign Up Successful !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"second\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Now Signing In...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 5\n    }, this), login && /*#__PURE__*/_jsxDEV(UserLogIn, {\n      setUserID: setUserID,\n      logingIn: login,\n      setLogingIn: setLogin,\n      setSignup: setSignup,\n      setPopUp: setPopUp,\n      exitSequence: exitSequence,\n      refPanel: refPanel,\n      setRefPanel: setRefPanel,\n      setUserDocumentSettings: setUserDocumentSettings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 858,\n      columnNumber: 5\n    }, this), !signup && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"loginOrSignup\",\n      ref: initialChoice,\n      className: `${switchToSignup ? '_leave' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          setRefPanel(); // let initialChoiceElement = initialChoice.current;\n          // initialChoiceElement.style.opacity = 0;\n          // let delay = setTimeout(()=> {\n          // \tinitialChoiceElement.style.display = 'none';\n          // }, 550)\n        },\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          setLogin();\n          let initialChoiceElement = initialChoice.current;\n          initialChoiceElement.style.opacity = 0;\n          let delay = setTimeout(() => {\n            initialChoiceElement.style.display = 'none';\n          }, 550);\n        },\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 886,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 872,\n      columnNumber: 5\n    }, this), signup && /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"forSignupProcess\",\n      className: `buttonDefault ${signupIsReady == true ? 'canUse' : 'cantUse'}`,\n      onClick: signupSequencer,\n      children: sequenceButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 901,\n      columnNumber: 5\n    }, this), popUp.active && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"popUp\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: popUp.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 910,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttonDefault\",\n        onClick: () => {\n          setPopUp({\n            active: false,\n            message: null\n          });\n        },\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 911,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 909,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 790,\n    columnNumber: 3\n  }, this);\n}\n\n_s4(Entry, \"sFDCiZfZopQQtHvv02CBzfXLaT4=\", false, function () {\n  return [useUIC, useNavigate];\n});\n\n_c4 = Entry;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"UserSignUp\");\n$RefreshReg$(_c2, \"UserLogIn\");\n$RefreshReg$(_c3, \"ReferralPanel\");\n$RefreshReg$(_c4, \"Entry\");","map":{"version":3,"names":["React","useNavigate","APIaccess","useUIC","accessAPI","formReducer","state","event","name","value","UserSignUp","setSignup","signup","transition","setPopUp","signupIsReady","setSignupIsReady","isSignUpReady","setIsSignUpReady","formData","setFormData","signupSubmit","signupSequence","setSignupSequence","privacyOption","setPrivacyOption","profilePhoto","setProfilePhoto","topics","setTopics","form","useRef","thisForm","current","getTopics","body","FormData","append","request","signupUser","sort","map","topic","selected","selectTopic","console","log","setter","item","handleChange","target","files","useEffect","classList","remove","add","delay","setTimeout","style","display","inputs","Array","from","children","check","forEach","input","imageButton","setImageButton","useState","undefined","e","preventDefault","URL","createObjectURL","document","getElementById","click","UserLogIn","setUserID","logingIn","setLogingIn","exitSequence","setRefPanel","refPanel","setUserDocumentSettings","useReducer","isReady","setIsReady","_login","navigate","handleSubmit","active","message","user","emailAddr","password","confirm","secondStep","thirdStep","ReferralPanel","setSwitchToSignup","referee","setReferee","login","setLogin","buttonMode","setButtonMode","referralCode","setReferralCode","panelStates","setPanelStates","panel","classOne","displayOne","classTwo","displayTwo","handleInput","handleButton","submitRefCode","username","second","length","key","profilePic","firstName","lastName","Entry","useAuth","userDocumentSettings","switchToSignup","signUpSuccess","setSignUpSuccess","_id","formValidation","userName","emailRegex","nameRegex","usernameRegex","passwordRegex","isEmailValid","test","isFirstnameValid","isLastnameValid","isUsernameValid","isPasswordValid","invalidFields","push","errorMessage","join","logoWrapper","signupSuccessButton","submission","selectedTopics","filter","el","signupSequencer","signupForm","privacyOptions","topicSelection","validation","userExistsCheck","action","popUp","sequenceButton","setSequenceButton","sequenceButtonTrigger","setSequenceButtonTrigger","enter","setEnter","initialChoice","first","title","initialChoiceElement","opacity"],"sources":["/home/jce/Web Dev Space/Syncsequence/frontEnd/src/components/entry/entry.jsx"],"sourcesContent":["\r\nimport * as React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport APIaccess from '../../apiaccess';\r\nimport useUIC from '../../UIcontext';\r\n\r\nimport '../../index.css';\r\nimport './entry.css';\r\n\r\nconst accessAPI = APIaccess();\r\n\r\n/* helps organize formData */\r\nconst formReducer = (state, event) => {\r\n\treturn {\r\n\t\t...state,\r\n\t\t[event.name]: event.value\r\n\t}\r\n}\r\n\r\n\r\nfunction UserSignUp({\r\n\tsetSignup,  \r\n\tsignup, \r\n\ttransition, \r\n\tsetPopUp,\r\n\tsignupIsReady, \r\n\tsetSignupIsReady,\r\n\tisSignUpReady,\r\n\tsetIsSignUpReady,\r\n\tformData, \r\n\tsetFormData,\r\n\tsignupSubmit,\r\n\tsignupSequence,\r\n\tsetSignupSequence,\r\n\tprivacyOption,\r\n\tsetPrivacyOption,\r\n\tprofilePhoto,\r\n\tsetProfilePhoto,\r\n\ttopics,\r\n\tsetTopics\r\n}) {\r\n\r\n\t/**\r\n\t * 09. 17. 2023\r\n\t * Provides user sign up form\r\n\t * On successful submission, notifies user of success\r\n\t * afterwards, user sign in component appears\r\n\t */\r\n\tlet form = React.useRef();\r\n\tlet thisForm = form.current;\r\n\t// const [topics, setTopics] = React.useState();\r\n\r\n\tconst getTopics = async() => {\r\n\t\tlet body = new FormData();\r\n\t\tbody.append('action', 'getTopics');\r\n\t\tlet request = await accessAPI.signupUser(body);\r\n\t\trequest = request.sort().map(topic => {\r\n\t\t\treturn {\r\n\t\t\t\tname: topic,\r\n\t\t\t\tselected: false\r\n\t\t\t}\r\n\t\t})\r\n\t\tsetTopics(request);\r\n\t}\r\n\r\n\tconst selectTopic = async(topic) => {\r\n\t\tconsole.log(topic)\r\n\t\tlet setter = topics.map(item => {\r\n\t\t\tif(topic.name == item.name) {\r\n\t\t\t\tif(topic.selected == true) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: topic.name,\r\n\t\t\t\t\t\tselected: false\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: topic.name,\r\n\t\t\t\t\t\tselected: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse return item;\r\n\t\t})\r\n\t\tsetTopics(setter);\r\n\t}\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tif(event.target.name == 'image') {\r\n\t\t\tsetProfilePhoto(event.target.files[0]);\r\n\t\t\tconsole.log(event.target.files[0]);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetFormData({\r\n\t\t\t\tname: event.target.name,\r\n\t\t\t\tvalue: event.target.value\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t/* \r\n\t\tAnimation sequence on mount \r\n\t*/\r\n\tReact.useEffect(()=> {\r\n\t\tgetTopics();\r\n\r\n\t\tif(thisForm) {\r\n\t\t\tif(signup == false) {\r\n\t\t\t\tthisForm.classList.remove('_active');\r\n\t\t\t\tthisForm.classList.add('_nonActive');\r\n\r\n\t\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\t\tthisForm.style.display = 'none';\r\n\t\t\t\t}, 550)\r\n\t\t\t}\r\n\t\t\tif(signup == true) {\r\n\t\t\t\tthisForm.style.display = 'block';\r\n\t\t\t\tthisForm.classList.add('_active');\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, [signup])\r\n\r\n\t/*\r\n\t\tcheck whether all inputs have value before making submit button active\r\n\t*/\r\n\tReact.useEffect(()=> {\r\n\r\n\t\tif(thisForm) {\r\n\t\t\tlet inputs = Array.from(thisForm.children[0].children);\r\n\t\t\tlet check = 0;\r\n\r\n\t\t\tinputs.forEach(input => {\r\n\t\t\t\tif(input.value != '') {\r\n\t\t\t\t\tcheck++;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif(check == 5) {\r\n\t\t\t\tif(!signupIsReady) {\r\n\t\t\t\t\tsetSignupIsReady();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [formData])\r\n\r\n\r\n\tconst [imageButton, setImageButton] = React.useState('Add Photo');\r\n\tReact.useEffect(()=> {\r\n\t\tif(profilePhoto != undefined) {\r\n\t\t\tsetImageButton('Change Photo');\r\n\t\t}\r\n\t}, [profilePhoto])\r\n\t\r\n\treturn (\r\n\t\t<form id=\"signup\" onSubmit={signupSubmit} ref={form} encType='multipart/form-data'>\r\n\t\t\t{signupSequence == 1 &&\r\n\t\t\t\t<fieldset id=\"signupForm\">\r\n\t\t\t\t\t<input name=\"firstName\" placeholder=\"First Name\" onChange={handleChange} />\r\n\t\t\t\t\t<input name=\"lastName\" placeholder=\"Last Name\" onChange={handleChange} />\r\n\t\t\t\t\t<input name=\"emailAddr\" placeholder=\"Email Address\" onChange={handleChange} />\r\n\t\t\t\t\t<input name=\"userName\" placeholder=\"Your Username\" onChange={handleChange} />\r\n\t\t\t\t\t<input name=\"password\" placeholder=\"Create a Password\" onChange={handleChange} />\r\n\t\t\t\t</fieldset>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t{signupSequence == 2 &&\r\n\t\t\t\t<div id=\"privacyOptions\">\r\n\t\t\t\t\t<h2>Adjust Your Privacy Setting</h2>\r\n\t\t\t\t\t<ul id=\"options\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tname=\"privacyOn\"\r\n\t\t\t\t\t\t\t\tclassName={`buttonDefault ${privacyOption == 'On' ? '' : '_inactive'}`} \r\n\t\t\t\t\t\t\t\tonClick={(e)=> {\t\r\n\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\tsetPrivacyOption(\"On\");\r\n\t\t\t\t\t\t\t\t}}>ON</button>\t\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tname=\"privacyHalf\"\r\n\t\t\t\t\t\t\t\tclassName={`buttonDefault ${privacyOption == 'Half' ? '' :'_inactive'}`}\r\n\t\t\t\t\t\t\t\tonClick={(e)=> {\t\r\n\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\tsetPrivacyOption(\"Half\");\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t1 / 2</button>\t\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tname=\"privacyOff\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={`buttonDefault ${privacyOption == 'Off' ? '' :'_inactive'}`}\r\n\t\t\t\t\t\t\t\tonClick={(e)=> {\t\r\n\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\tsetPrivacyOption(\"Off\");\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tOFF</button>\t\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t{privacyOption == 'On' &&\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tOnly Connections see <span>Full name</span>{`\\n`}\r\n\t\t\t\t\t\t\tOnly Connections see <span>Profile Metrics</span>{`\\n`}\r\n\t\t\t\t\t\t\tNo Subscribers{`\\n`} \r\n\t\t\t\t\t\t\tAll Posts visible only to Connections{`\\n`}\r\n\t\t\t\t\t\t\tPinned Posts and Media only visible to Connections\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{privacyOption == 'Half' &&\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tOnly Connections see <span>Full name</span>{`\\n`}\r\n\t\t\t\t\t\t\tOnly Connections, Subscribers see <span>Profile Metrics</span>{`\\n`}\r\n\t\t\t\t\t\t\tSubscribers Can Request{`\\n`}\r\n\t\t\t\t\t\t\tAll Posts visible only to Connections & Subscribers{`\\n`}\r\n\t\t\t\t\t\t\tPinned Posts and Media visible to Everyone\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{privacyOption == 'Off' &&\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tEveryone can see <span>Full name</span>{`\\n`}\r\n\t\t\t\t\t\t\tEveryone can see <span>Profile Metrics</span>{`\\n`}\r\n\t\t\t\t\t\t\tSubscribers need not Request{`\\n`}\r\n\t\t\t\t\t\t\tAll Posts visible to Everyone{`\\n`}\r\n\t\t\t\t\t\t\tPinned Posts and Media visible to Everyone\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{signupSequence == 3 &&\r\n\t\t\t\t<fieldset id=\"profilePhoto\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h2>Would you like to add a profile photo?</h2>\r\n\r\n\t\t\t\t\t{profilePhoto &&\r\n\t\t\t\t\t\t<img src={URL.createObjectURL(profilePhoto)}/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<label className=\"imageAdd\" onChange={handleChange} htmlFor=\"addImage\" onClick={()=> {document.getElementById('addImage').click()}}>\r\n\t\t\t\t\t\t<input hidden\r\n\t\t\t\t\t\t\tid='addImage' \r\n\t\t\t\t\t\t\ttype=\"file\" \r\n\t\t\t\t\t\t\taccept=\"image/\"\r\n\t\t\t\t\t\t\tname='image' \r\n\t\t\t\t\t\t\thidden />\r\n\t\t\t\t\t\t{imageButton}\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t</fieldset>\r\n\t\t\t}\r\n\r\n\t\t\t{signupSequence == 4 &&\r\n\t\t\t\t<div id=\"topicSelection\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h2>Choose a few topics to easily find others posting about similar interests</h2>\r\n\r\n\t\t\t\t\t<ul id=\"topicsList\">\r\n\t\t\t\t\t\t{topics.map(topic => (\r\n\t\t\t\t\t\t\t<li key={topic.name}>\r\n\t\t\t\t\t\t\t\t<button className={`buttonDefault ${topic.selected == true ? 'selected' : ''}`} \r\n\t\t\t\t\t\t\t\t\t\tonClick={(e)=> {e.preventDefault(); selectTopic(topic)}}>\r\n\t\t\t\t\t\t\t\t\t{topic.name}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t<p>Later you can create custom tags and add those from other users!</p>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t<div id=\"transition\"></div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\n\r\nfunction UserLogIn({\r\n\tsetUserID, \r\n\tlogingIn, \r\n\tsetLogingIn, \r\n\tsetSignup, \r\n\tsetPopUp, \r\n\texitSequence,\r\n\tsetRefPanel,\r\n\trefPanel,\r\n\tsetUserDocumentSettings\r\n}) {\r\n\r\n\t/**\r\n\t * 09. 17. 2023\r\n\t * Signs in user and returns necessary auth token for backend and userID\r\n\t */\r\n\r\n\tconst [formData, setFormData] = React.useReducer(formReducer, {});\r\n\tconst [isReady, setIsReady] = React.useReducer(state => !state, false);\r\n\tconst { _login }  = useUIC();\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst handleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif(!isReady) {\r\n\t\t\treturn;\r\n\t\t} else {\r\n\r\n\t\t\tlet inputs = Array.from(thisForm.children[0].children);\r\n\t\t\tlet check = 0;\r\n\r\n\t\t\tinputs.forEach(input => {\r\n\t\t\t\tif(input.value != '') {\r\n\t\t\t\t\tcheck++;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif(check != 2) {\r\n\t\t\t\tsetPopUp({\r\n\t\t\t\t\tactive: true,\r\n\t\t\t\t\tmessage: 'Please fill in all fields'\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlet user = await _login({\r\n\t\t\t\t\temailAddr: formData.emailAddr,\r\n\t\t\t\t\tpassword: formData.password\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// setUserDocumentSettings(user.settings);\r\n\t\t\t\t// console.log(user)\r\n\r\n\t\t\t\tif(user.confirm == true) {\r\n\t\t\t\t\texitSequence();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(user);\r\n\t\t\t\t\tsetPopUp({\r\n\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\tmessage: user\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t}\t\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetFormData({\r\n\t\t\tname: event.target.name,\r\n\t\t\tvalue: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\tlet form = React.useRef();\r\n\tlet thisForm = form.current;\r\n\r\n\t/*\r\n\t\tcheck whether all inputs have value before making submit button active\r\n\t*/\r\n\tReact.useEffect(()=> {\r\n\r\n\t\tif(thisForm) {\r\n\t\t\tlet inputs = Array.from(thisForm.children[0].children);\r\n\t\t\tlet check = 0;\r\n\r\n\t\t\tinputs.forEach(input => {\r\n\t\t\t\tif(input.value != '') {\r\n\t\t\t\t\tcheck++;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif(check == 2) {\r\n\t\t\t\tif(!isReady) {\r\n\t\t\t\t\tsetIsReady();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [formData])\r\n\r\n\treturn (\r\n\t\t<form id=\"login\" onSubmit={handleSubmit} ref={form}\r\n\t\t\t\tclassName={`_active`}>\r\n\t\t\t<fieldset>\r\n\t\t\t\t<input name=\"emailAddr\" placeholder=\"Email Address\" onChange={handleChange} />\r\n\t\t\t\t<input name=\"password\" placeholder=\"Password\" onChange={handleChange} />\r\n\t\t\t</fieldset>\r\n\t\t\t<button id=\"login\" type=\"submit\" className={isReady == true ? 'canUse' : 'cantUse'}>Log In</button>\r\n\t\t\t<button id=\"switch\" onClick={(e)=> {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tlet thisForm = form.current;\r\n\t\t\t\tthisForm.classList.remove('_active');\r\n\t\t\t\tthisForm.classList.add('_nonActive');\r\n\r\n\t\t\t\tlet secondStep = setTimeout(()=> {\r\n\t\t\t\t\tsetLogingIn();\r\n\t\t\t\t}, 550)\r\n\t\t\t\tlet thirdStep = setTimeout(()=> {\r\n\t\t\t\t\tsetRefPanel();\r\n\t\t\t\t}, 300);\r\n\t\t\t}}>Sign Up</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\n\r\nfunction ReferralPanel({\r\n\tsetPopUp, \r\n\tsetRefPanel, \r\n\tsetSwitchToSignup, \r\n\tsetSignup, \r\n\treferee, \r\n\tsetReferee,\r\n\tlogin,\r\n\tsetLogin \r\n}) {\r\n\r\n\tconst [buttonMode, setButtonMode] = React.useState('close');\r\n\tconst [referralCode, setReferralCode] = React.useState('');\r\n\tconst [panelStates, setPanelStates] = React.useState({\r\n\t\tpanel: '', //_leave or _enter\r\n\t\tclassOne: '',\r\n\t\tdisplayOne: true, //default true\r\n\t\tclassTwo: '',\r\n\t\tdisplayTwo: false //default false\r\n\t})\r\n\r\n\tconst handleInput = (event) => {\r\n\r\n\t\tif(event.target.name == 'referralCode') {\r\n\t\t\tsetReferralCode(event.target.value)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleButton = () => {\r\n\r\n\t\tif(buttonMode == 'close') {\r\n\t\t\t\r\n\t\t\tsetPanelStates({\r\n\t\t\t\t...panelStates,\r\n\t\t\t\tpanel: '_leave'\r\n\t\t\t})\r\n\r\n\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\tsetRefPanel()\r\n\t\t\t\tif(login == false) {\r\n\t\t\t\t\tsetLogin();\r\n\t\t\t\t}\r\n\t\t\t}, 350)\r\n\t\t}\r\n\r\n\t\telse if(buttonMode == 'enter') {\r\n\t\t\tsubmitRefCode();\r\n\t\t}\r\n\r\n\t\telse if(buttonMode == 'continue') {\r\n\r\n\t\t\tif(login) {\r\n\t\t\t\tsetLogin();\r\n\t\t\t}\r\n\t\t\tsetSwitchToSignup();\r\n\t\t\tsetPanelStates({\r\n\t\t\t\t...panelStates,\r\n\t\t\t\tpanel: \"_leave\"\r\n\t\t\t})\r\n\r\n\t\t\tlet secondStep = setTimeout(()=> {\r\n\t\t\t\tsetRefPanel();\r\n\t\t\t\tsetSignup();\r\n\t\t\t}, [1100])\r\n\t\t}\r\n\t}\r\n\r\n\t//contains transition sequence from first panel to second\r\n\tconst submitRefCode = async() => {\r\n\r\n\t\tlet request = await accessAPI.submitRefCode(referralCode);\r\n\r\n\t\tif(request.username) {\r\n\t\t\tconsole.log(request)\r\n\t\t\tsetReferee(request);\r\n\t\t\tsetPanelStates({\r\n\t\t\t\t...panelStates,\r\n\t\t\t\tpanel: '_leave'\r\n\t\t\t});\r\n\r\n\t\t\tlet second = setTimeout(()=> {\r\n\t\t\t\tsetPanelStates({\r\n\t\t\t\t\t...panelStates,\r\n\t\t\t\t\tdisplayOne: false,\r\n\t\t\t\t\tdisplayTwo: true,\r\n\t\t\t\t\tpanel: '_return'\r\n\t\t\t\t});\r\n\t\t\t\tsetButtonMode('continue');\r\n\t\t\t}, 500)\r\n\t\t}\r\n\t\telse if(request.message) {\r\n\t\t\tsetPopUp({\r\n\t\t\t\tactive: true,\r\n\t\t\t\tmessage: 'This Code is Invalid'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t//Changes buttonMode based on change in referralCode\r\n\tReact.useEffect(()=> {\r\n\t\tif(referralCode.length == 8) {\r\n\t\t\tsetButtonMode('enter');\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetButtonMode('close');\r\n\t\t}\r\n\t}, [referralCode])\r\n\r\n\treturn (\r\n\t\t<div id=\"referralPanel\" className={`${panelStates.panel}`}>\r\n\r\n\t\t\t{panelStates.displayOne &&\r\n\t\t\t\t<div id=\"firstPanel\" className={`${panelStates.classOne}`}>\r\n\r\n\t\t\t\t\t<span>i</span>\r\n\r\n\t\t\t\t\t<h2>This Project is in Early Development</h2>\r\n\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tIn order to ensure that this project grows at a steady rate and maintains a quality of being subtle and low profile, new user sign ups are restricted to invitations only.\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tclassName={`inputDefault`}\r\n\t\t\t\t\t\tname=\"referralCode\"\r\n\t\t\t\t\t\tmaxLength=\"8\"\r\n\t\t\t\t\t\tvalue={referralCode}\r\n\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\tonKeyDown={(e)=> {if(e.key == 'Enter') submitRefCode();}}\r\n\t\t\t\t\t\tplaceholder=\"Enter Referral Code\" />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t{panelStates.displayTwo &&\r\n\t\t\t\t<div id=\"secondPanel\" className={`${panelStates.classTwo}`}>\r\n\r\n\t\t\t\t\t<h2>Invited By</h2>\r\n\r\n\t\t\t\t\t<img src={referee.profilePic}></img>\r\n\t\t\t\t\t<h3>@{referee.username}</h3>\r\n\t\t\t\t\t<h4>{referee.firstName} {referee.lastName}</h4>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t<button className={`buttonDefault ${buttonMode}`} \r\n\t\t\t\t\tonClick={handleButton}>\r\n\t\t\t\t{buttonMode}\r\n\t\t\t</button>\r\n\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\n/**\r\n * 09. 17. 2023\r\n * Main component / page: \r\n * Houses both forms and confirmation element\r\n */\r\nexport default function Entry({useAuth, setUserID, userDocumentSettings, setUserDocumentSettings}) {\r\n\r\n\tconst { _login }  = useUIC();\r\n\r\n\t/* For Sign Up */\r\n\tconst [signup, setSignup] = React.useReducer(state => !state, false);\r\n\tconst [signupIsReady, setSignupIsReady] = React.useReducer(state => !state, false);\r\n\tconst [switchToSignup, setSwitchToSignup] = React.useReducer(state => !state, false);\r\n\tconst [signupSequence, setSignupSequence] = React.useState(1);\r\n\tconst [signUpSuccess, setSignUpSuccess] = React.useReducer(state => !state, false);\r\n\tconst [formData, setFormData] = React.useReducer(formReducer, {});\r\n\tconst [privacyOption, setPrivacyOption] = React.useState('Off');\r\n\tconst [profilePhoto, setProfilePhoto] = React.useState();\r\n\tconst [referee, setReferee] = React.useState({\r\n\t\tprofilePic: '',\r\n\t\tusername: '',\r\n\t\tfirstName: '',\r\n\t\tlastName: '',\r\n\t\t_id: ''\r\n\t})\r\n\tconst [topics, setTopics] = React.useState();\r\n\r\n\t// const getTopics = async() => {\r\n\t// \tlet request = await accessAPI.signupUser({action: 'getTopics'});\r\n\t// \trequest = request.map(topic => {\r\n\t// \t\treturn {\r\n\t// \t\t\tname: topic,\r\n\t// \t\t\tselected: false\r\n\t// \t\t}\r\n\t// \t})\r\n\t// \tsetTopics(request);\r\n\t// }\r\n\r\n\tconst formValidation = (formData) => {\r\n\t\tconst {emailAddr, password, firstName, lastName, userName} = formData;\r\n\r\n\t\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\t\tconst nameRegex = /^[a-zA-Z]{2,}$/; // Allows only alphabetic characters, minimum 2 characters\r\n\t\tconst usernameRegex = /^[a-zA-Z0-9_]{3,}$/; // Alphanumeric characters and underscores, minimum 3 characters\r\n\t\tconst passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/; // Minimum 8 characters, at least one letter and one number\r\n\r\n\t\t//validating fields\r\n\t\tconst isEmailValid = emailRegex.test(emailAddr);\r\n\t\tconst isFirstnameValid = nameRegex.test(firstName);\r\n\t\tconst isLastnameValid = nameRegex.test(lastName);\r\n\t\tconst isUsernameValid = usernameRegex.test(userName);\r\n\t\tconst isPasswordValid = passwordRegex.test(password);\r\n\r\n\t\t//arrange invalid fields\r\n\t\tconst invalidFields = [];\r\n  \t\tif (!isEmailValid) invalidFields.push(\"Email\");\r\n  \t\tif (!isFirstnameValid) invalidFields.push(\"First Name\");\r\n  \t\tif (!isLastnameValid) invalidFields.push(\"Last Name\");\r\n  \t\tif (!isUsernameValid) invalidFields.push(\"Username\");\r\n  \t\tif (!isPasswordValid) invalidFields.push(\"Password. It must have a minimum of 8 characters, only letters and numbers\");\r\n\r\n  \t\tconst errorMessage = invalidFields.length > 0 ? `There is an error with ${invalidFields.join(', ')}.` : null;\r\n\r\n\t\treturn typeof(errorMessage) == 'string' ? errorMessage : true\r\n\t}\r\n\r\n\tconst signupSubmit = async() => {\r\n\r\n\t\tlet logoWrapper = document.getElementById('logoWrapper');\r\n\t\tlet signupSuccessButton = document.getElementById('forSignupProcess');\r\n\r\n\t\tif(!signupIsReady) {\r\n\t\t\treturn;\r\n\t\t} else {\r\n\r\n\t\t\t\tlet submission = new FormData();\r\n\t\t\t\tsubmission.append('firstName', formData.firstName);\r\n\t\t\t\tsubmission.append('lastName', formData.lastName);\r\n\t\t\t\tsubmission.append('emailAddr', formData.emailAddr);\r\n\t\t\t\tsubmission.append('userName', formData.userName);\r\n\t\t\t\tsubmission.append('password', formData.password);\r\n\t\t\t\tsubmission.append('privacyOption', privacyOption);\r\n\t\t\t\tsubmission.append('profilePhoto', profilePhoto);\r\n\t\t\t\tsubmission.append('referrer', referee._id);\r\n\t\t\t\tsubmission.append('action', 'create');\r\n\t\t\t\tlet selectedTopics = topics.filter(el => el.selected == true).map(el => el.name);\r\n\t\t\t\tsubmission.append('topics', selectedTopics);\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(submission);\r\n\r\n\t\t\t\tlet request = await accessAPI.signupUser(submission);\r\n\r\n\t\t\t\t\tif (request.confirm == true) {\r\n\r\n\t\t\t\t\t\t//login user, save necessary info\r\n\t\t\t\t\t\tlet user = await _login({\r\n\t\t\t\t\t\t\temailAddr: formData.emailAddr,\r\n\t\t\t\t\t\t\tpassword: formData.password\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t//fade away logo and sequence button\r\n\t\t\t\t\t\tlogoWrapper.classList.add('_leave');\r\n\t\t\t\t\t\tsignupSuccessButton.classList.add('_leave');\r\n\t\t\t\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\t\t\t\ttransition();\r\n\t\t\t\t\t\t}, 500)\r\n\r\n\t\t\t\t\t\t//enter home page\r\n\t\t\t\t\t\tlet thirdStep = setTimeout(()=> {\r\n\t\t\t\t\t\t\texitSequence();\r\n\t\t\t\t\t\t}, 3700)\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telse if(request.message) {\r\n\t\t\t\t\t\tsignupSuccessButton.classList.add('_leave');\r\n\t\t\t\t\t\tsetPopUp({\r\n\t\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\t\tmessage: \"The sign up process failed. Please refresh the page and try again\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.log('sign up failed');\r\n\t\t\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\r\n\tconst signupSequencer = async() => {\r\n\t\tlet signupForm = document.getElementById('signupForm');\r\n\t\tlet privacyOptions = document.getElementById('privacyOptions');\r\n\t\tlet profilePhoto = document.getElementById('profilePhoto');\r\n\t\tlet topicSelection = document.getElementById('topicSelection');\r\n\t\t\r\n\r\n\t\tif(signupIsReady && signupSequence == 1) {\r\n\r\n\t\t\tlet validation = formValidation(formData);\r\n\r\n\t\t\tif(validation == true) {\r\n\r\n\t\t\t\tlet request = await accessAPI.userExistsCheck({\r\n\t\t\t\t\taction: 'userExistsCheck',\r\n\t\t\t\t\tuserName: formData.userName,\r\n\t\t\t\t\temailAddr: formData.emailAddr\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(request.confirm == true) {\r\n\r\n\t\t\t\t\tsignupForm.classList.add('_leave');\r\n\r\n\t\t\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\t\t\tsetSignupSequence(2)\r\n\t\t\t\t\t}, 350);\r\n\t\t\t\t}\r\n\t\t\t\telse if(request.confirm == false) {\r\n\t\t\t\t\tsetPopUp({\r\n\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\tmessage: request.message\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsetPopUp({\r\n\t\t\t\t\tactive: true,\r\n\t\t\t\t\tmessage: validation\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(signupSequence == 2) {\r\n\r\n\t\t\tprivacyOptions.classList.add('_leave');\r\n\r\n\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\tsetSignupSequence(3)\r\n\t\t\t}, 550);\r\n\t\t}\r\n\t\telse if(signupSequence == 3) {\r\n\r\n\t\t\t// getTopics();\r\n\t\t\tprofilePhoto.classList.add('_leave');\r\n\r\n\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\tsetSignupSequence(4)\r\n\t\t\t}, 550);\r\n\t\t}\r\n\t\telse if(signupSequence == 4) {\r\n\r\n\t\t\ttopicSelection.classList.add('_leave');\r\n\r\n\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\tsignupSubmit();\r\n\t\t\t}, 550);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tconst [refPanel, setRefPanel] = React.useReducer(state => !state, false);\r\n\tconst [login, setLogin] = React.useReducer(state => !state, false);\r\n\tconst [popUp, setPopUp] = React.useState({\r\n\t\tactive: false,\r\n\t\tmessage: null\r\n\t});\r\n\tconst [sequenceButton, setSequenceButton] = React.useState('continue');\r\n\tconst [sequenceButtonTrigger, setSequenceButtonTrigger] = React.useReducer(state => !state, false);\r\n\tconst [enter, setEnter] = React.useReducer(state => !state, false);\r\n\tconst initialChoice = React.useRef()\r\n\tconst el = React.useRef();\r\n\tconst navigate = useNavigate();\r\n\r\n\t/* sequences elements to appear denoting successful signup */\r\n\tlet transition = () => {\r\n\t\tsetSignUpSuccess();\r\n\r\n\t\tlet first = setTimeout(()=> {\r\n\t\t\tsetSignUpSuccess();\r\n\t\t}, 3100)\r\n\t}\r\n\r\n\t//fades entry page, goes to home page\r\n\tlet exitSequence = () => {\r\n\t\tsetEnter()\r\n\t\tlet delay = setTimeout(()=> {\r\n\t\t\tnavigate('/home');\r\n\t\t}, 550)\r\n\t}\r\n\r\n\tReact.useEffect(()=> {\r\n\t\tdocument.title = 'Syncseq.xyz/entry'\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<section id=\"entry\" ref={el} className={`${enter == true ? '_enter' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t ${refPanel == true ? 'panelOpen' : ''}`}>\r\n\t\t\t\r\n\t\t\t{/* t i t l e  w r a p p e r */}\r\n\t\t\t{!signup && \r\n\t\t\t\t<div id=\"titleWrapper\" className={`${switchToSignup ? '_leave' : ''}`}>\r\n\t\t\t\t\t<h1>Welcome to</h1>\r\n\t\t\t\t\t<h1><span>Sync</span>hronized</h1>\r\n\t\t\t\t\t<h1><span>Seq</span>uences</h1>\r\n\t\t\t\t\t<h1 id=\"xyz\"><span>.xyz</span></h1>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{/*L O G O*/}\r\n\t\t\t{signup &&\r\n\t\t\t\t<div id=\"logoWrapper\">\r\n\t\t\t\t\t<h1>ss.xyz</h1>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{/* r e f e r r a l  p a n e l */}\r\n\t\t\t{refPanel &&\r\n\t\t\t\t<ReferralPanel \r\n\t\t\t\t\t\t\tsetPopUp={setPopUp}\r\n\t\t\t\t\t\t\tsetRefPanel={setRefPanel}\r\n\t\t\t\t\t\t\tsetSwitchToSignup={setSwitchToSignup}\r\n\t\t\t\t\t\t\tsetSignup={setSignup}\r\n\t\t\t\t\t\t\tsetFormData={setFormData}\r\n\t\t\t\t\t\t\treferee={referee}\r\n\t\t\t\t\t\t\tsetReferee={setReferee}\r\n\t\t\t\t\t\t\tlogin={login}\r\n\t\t\t\t\t\t\tsetLogin={setLogin}/>\r\n\t\t\t}\r\n\r\n\t\t\t{/*s i g n u p */}\r\n\t\t\t<UserSignUp signup={signup} \r\n\t\t\t\t\t\tsetSignup={setSignup} \r\n\t\t\t\t\t\tsetLogin={setLogin} \r\n\t\t\t\t\t\ttransition={transition}\r\n\t\t\t\t\t\tsetPopUp={setPopUp}\r\n\t\t\t\t\t\tsignupIsReady={signupIsReady}\r\n\t\t\t\t\t\tsetSignupIsReady={setSignupIsReady}\r\n\t\t\t\t\t\tformData={formData}\r\n\t\t\t\t\t\tsetFormData={setFormData}\r\n\t\t\t\t\t\tsignupSequence={signupSequence}\r\n\t\t\t\t\t\tsetSignupSequence={setSignupSequence}\r\n\t\t\t\t\t\tprivacyOption={privacyOption}\r\n\t\t\t\t\t\tsetPrivacyOption={setPrivacyOption}\r\n\t\t\t\t\t\tprofilePhoto={profilePhoto}\r\n\t\t\t\t\t\tsetProfilePhoto={setProfilePhoto}\r\n\t\t\t\t\t\ttopics={topics}\r\n\t\t\t\t\t\tsetTopics={setTopics}/>\r\n\r\n\t\t\t{/*elements stating successful signup*/}\r\n\t\t\t{signUpSuccess &&\r\n\t\t\t\t<div id=\"transition\">\r\n\t\t\t\t\t<div id=\"first\">\r\n\t\t\t\t\t\t<p>Sign Up Successful !</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div id=\"second\">\r\n\t\t\t\t\t\t<p>Now Signing In...</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t{/*l o g i n*/}\r\n\t\t\t{login &&\r\n\t\t\t\t<UserLogIn \r\n\t\t\t\t\tsetUserID={setUserID} \r\n\t\t\t\t\tlogingIn={login} \r\n\t\t\t\t\tsetLogingIn={setLogin} \r\n\t\t\t\t\tsetSignup={setSignup}\r\n\t\t\t\t\tsetPopUp={setPopUp}\r\n\t\t\t\t\texitSequence={exitSequence}\r\n\t\t\t\t\trefPanel={refPanel}\r\n\t\t\t\t\tsetRefPanel={setRefPanel}\r\n\t\t\t\t\tsetUserDocumentSettings={setUserDocumentSettings}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\r\n\t\t\t{!signup &&\r\n\t\t\t\t<div id=\"loginOrSignup\" ref={initialChoice} \r\n\t\t\t\t\t\t\t\t\t\tclassName={`${switchToSignup ? '_leave' : ''}`}>\r\n\r\n\t\t\t\t\t<button onClick={(e)=>{\r\n\t\t\t\t\t\te.preventDefault(); \r\n\t\t\t\t\t\tsetRefPanel();\r\n\r\n\t\t\t\t\t\t// let initialChoiceElement = initialChoice.current;\r\n\t\t\t\t\t\t// initialChoiceElement.style.opacity = 0;\r\n\t\t\t\t\t\t// let delay = setTimeout(()=> {\r\n\t\t\t\t\t\t// \tinitialChoiceElement.style.display = 'none';\r\n\t\t\t\t\t\t// }, 550)\r\n\t\t\t\t\t}}>Sign Up</button>\r\n\r\n\t\t\t\t\t<button onClick={(e)=>{\r\n\t\t\t\t\t\te.preventDefault(); \r\n\t\t\t\t\t\tsetLogin();\r\n\r\n\t\t\t\t\t\tlet initialChoiceElement = initialChoice.current;\r\n\t\t\t\t\t\tinitialChoiceElement.style.opacity = 0;\r\n\t\t\t\t\t\tlet delay = setTimeout(()=> {\r\n\t\t\t\t\t\t\tinitialChoiceElement.style.display = 'none';\r\n\t\t\t\t\t\t}, 550)\r\n\t\t\t\t\t}}>Log In</button>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t{signup &&\r\n\t\t\t\t<button id=\"forSignupProcess\" \r\n\t\t\t\t\t\tclassName={`buttonDefault ${signupIsReady == true ? 'canUse' : 'cantUse'}`}\r\n\t\t\t\t\t\tonClick={signupSequencer}>\r\n\t\t\t\t\t{sequenceButton}\r\n\t\t\t\t</button>\r\n\t\t\t}\t\r\n\r\n\t\t\t{popUp.active &&\r\n\t\t\t\t<div id=\"popUp\">\r\n\t\t\t\t\t<p>{popUp.message}</p>\r\n\t\t\t\t\t<button className={\"buttonDefault\"}onClick={()=> {setPopUp({ active: false, message: null })}}>Close</button>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t</section>\r\n\t)\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}